Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   1
CONFI   Z80

    1         0100      	ORG	0100H
    2                   ;
    3                   ;CONFI UTILITY
    4                   ;
    5                   ;DASM'ED 930421 THORBJOERN RAVN ANDERSEN
    6                   ;
    7                   ;
    8                   ;	NOP
    9                   ;	NOP
   10                   ;	NOP
   11                   	.z80
   12                   	
   13         0100      	ORG	100H
   14 0100    0100      	DS	256
   15 0200              START:	
   16 0200  E3          	EX	(SP),HL
   17 0201  31 10F2     	LD	SP,KBDANISH
   18 0204  E5          	PUSH	HL
   19 0205  11 06E1     	LD	DE,WELCOMEMSG
   20 0208  0E 09       	LD	C,9
   21 020A  CD 0005     	CALL	5
   22 020D              WHICHDISK:	
   23 020D  11 0719     	LD	DE,DISKACMSG
   24 0210  0E 09       	LD	C,9
   25 0212  CD 0005     	CALL	5
   26 0215  0E 0A       	LD	C,0AH
   27 0217  11 0664     	LD	DE,READLINEBUF
   28 021A  CD 0005     	CALL	5
   29 021D  3A 0665     	LD	A,(READLINELEN)
   30 0220  FE 01       	CP	1
   31 0222  20 E9       	JR	NZ,WHICHDISK
   32 0224  21 0666     	LD	HL,READLINECH1
   33 0227  7E          	LD	A,(HL)
   34 0228  FE 03       	CP	3
   35 022A  CA 0000     	JP	Z,0
   36 022D  E6 DF       	AND	0DFH	;UPCASE CHAR
   37 022F  FE 41       	CP	'A'
   38 0231  28 04       	JR	Z,DISKOK
   39 0233  FE 43       	CP	'C'
   40 0235  20 D6       	JR	NZ,WHICHDISK
   41 0237              DISKOK:	
   42 0237  D6 41       	SUB	'A'
   43 0239  32 0E5B     	LD	(DRIVE),A
   44 023C  AF          	XOR	A
   45 023D  CD 04F3     	CALL	READCB
   46 0240  CD 025F     	CALL	MAINMENU
   47 0243              LEAVE:	
   48 0243  0E 02       	LD	C,2	;CLEAR SCREEN
   49 0245  1E 0C       	LD	E,0CH
   50 0247  CD 0005     	CALL	5
   51 024A  CD 0426     	CALL	SETKBMEMORY
   52 024D  CD 047B     	CALL	SETVIDEO
   53 0250  CD 0372     	CALL	SETSIOA
   54 0253  CD 0328     	CALL	SETCTC0
   55 0256  CD 037E     	CALL	SETSIOB
   56 0259  CD 0347     	CALL	SETCTC1
   57 025C  C3 0000     	JP	0
   58                   ;

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   2
CONFI   Z80

   59                   ;
   60                   ;
   61                   ;
   62 025F              MAINMENU:	
   63 025F  21 0756     	LD	HL,MENUMSG
   64 0262  11 0001     	LD	DE,1
   65 0265  01 0006     	LD	BC,6
   66 0268  CD 05E4     	CALL	MENU
   67 026B  D0          	RET	NC
   68 026C  11 025F     	LD	DE,MAINMENU
   69 026F  D5          	PUSH	DE
   70 0270  CD 0670     	CALL	JUMPJPTABLE
   71 0273  029D        	DW	PRINTSETUP
   72 0275  027F        	DW	TERMSETUP
   73 0277  03FF        	DW	KBSETUP
   74 0279  043D        	DW	CURSORSETUP
   75 027B  04B3        	DW	STOPTIME
   76 027D  04D9        	DW	SAVECB
   77 027F              TERMSETUP:	
   78 027F  21 0806     	LD	HL,TERMMSG
   79 0282  11 0001     	LD	DE,1
   80 0285  01 0005     	LD	BC,5
   81 0288  CD 05E4     	CALL	MENU
   82 028B  D0          	RET	NC
   83 028C  11 027F     	LD	DE,TERMSETUP
   84 028F  D5          	PUSH	DE
   85 0290  CD 0670     	CALL	JUMPJPTABLE
   86 0293  02BB        	DW	TERMSTOPBIT
   87 0295  02E8        	DW	TERMPARITY
   88 0297  0313        	DW	TERMBAUDRATE
   89 0299  038A        	DW	TERMSENDSIZE
   90 029B  0397        	DW	TERMRECSIZE
   91 029D              PRINTSETUP:	
   92 029D  21 0BC4     	LD	HL,PRINTERMSG
   93 02A0  11 0001     	LD	DE,1
   94 02A3  01 0004     	LD	BC,4
   95 02A6  CD 05E4     	CALL	MENU
   96 02A9  D0          	RET	NC
   97 02AA  11 029D     	LD	DE,PRINTSETUP
   98 02AD  D5          	PUSH	DE
   99 02AE  CD 0670     	CALL	JUMPJPTABLE
  100 02B1  02C1        	DW	PRINTSTOPBIT
  101 02B3  02EE        	DW	PRINTPARITY
  102 02B5  0332        	DW	PRINTBAUDRAT
  103 02B7  039E        	DW	PRINTSENDSIZ
  104 02B9  03AB        	DW	PRINTRECSIZE
  105 02BB              TERMSTOPBIT:	
  106 02BB  21 0E7C     	LD	HL,CBTREG4
  107 02BE  C3 02C7     	JP	STOPBIT
  108 02C1              PRINTSTOPBIT:	
  109 02C1  21 0E87     	LD	HL,CBPREG4
  110 02C4  C3 02C7     	JP	STOPBIT
  111 02C7              STOPBIT:	
  112 02C7  7E          	LD	A,(HL)
  113 02C8  E5          	PUSH	HL
  114 02C9  0F          	RRCA
  115 02CA  0F          	RRCA
  116 02CB  E6 03       	AND	3

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   3
CONFI   Z80

  117 02CD  3D          	DEC	A
  118 02CE  21 0A25     	LD	HL,STOPBITSMSG
  119 02D1  11 0001     	LD	DE,1
  120 02D4  01 0003     	LD	BC,3
  121 02D7  CD 05E4     	CALL	MENU
  122 02DA  D1          	POP	DE
  123 02DB  D0          	RET	NC
  124 02DC  D5          	PUSH	DE
  125 02DD  7D          	LD	A,L
  126 02DE  07          	RLCA
  127 02DF  07          	RLCA
  128 02E0  47          	LD	B,A
  129 02E1  E1          	POP	HL
  130 02E2  7E          	LD	A,(HL)
  131 02E3  E6 F3       	AND	0F3H
  132 02E5  80          	ADD	A,B
  133 02E6  77          	LD	(HL),A
  134 02E7  C9          	RET
  135 02E8              TERMPARITY:	
  136 02E8  21 0E7C     	LD	HL,CBTREG4
  137 02EB  C3 02F4     	JP	PARITY
  138 02EE              PRINTPARITY:	
  139 02EE  21 0E87     	LD	HL,CBPREG4
  140 02F1  C3 02F4     	JP	PARITY
  141 02F4              PARITY:	
  142 02F4  7E          	LD	A,(HL)
  143 02F5  E5          	PUSH	HL
  144 02F6  3C          	INC	A
  145 02F7  E6 03       	AND	3
  146 02F9  21 0A78     	LD	HL,PARITYMSG
  147 02FC  11 0001     	LD	DE,1
  148 02FF  01 0003     	LD	BC,3
  149 0302  CD 05E4     	CALL	MENU
  150 0305  D1          	POP	DE
  151 0306  D0          	RET	NC
  152 0307  D5          	PUSH	DE
  153 0308  7D          	LD	A,L
  154 0309  EE 02       	XOR	2
  155 030B  47          	LD	B,A
  156 030C  E1          	POP	HL
  157 030D  7E          	LD	A,(HL)
  158 030E  E6 FC       	AND	0FCH
  159 0310  80          	ADD	A,B
  160 0311  77          	LD	(HL),A
  161 0312  C9          	RET
  162 0313              TERMBAUDRATE:	
  163 0313  21 0E9C     	LD	HL,CURTERMBAUD
  164 0316  CD 0351     	CALL	BAUDRATE
  165 0319  D0          	RET	NC
  166 031A  79          	LD	A,C
  167 031B  32 0E73     	LD	(CBTERMBAUD),A
  168 031E  3A 0E7C     	LD	A,(CBTREG4)
  169 0321  E6 3F       	AND	'?'
  170 0323  80          	ADD	A,B
  171 0324  32 0E7C     	LD	(CBTREG4),A
  172 0327  C9          	RET
  173 0328              SETCTC0:	
  174 0328  3E 47       	LD	A,'G'	;TERMINAL BAUD RATE

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   4
CONFI   Z80

  175 032A  D3 0C       	OUT	(0CH),A
  176 032C  3A 0E73     	LD	A,(CBTERMBAUD)
  177 032F  D3 0C       	OUT	(0CH),A
  178 0331  C9          	RET
  179 0332              PRINTBAUDRAT:	
  180 0332  21 0E9D     	LD	HL,CURPRINTBAUD
  181 0335  CD 0351     	CALL	BAUDRATE
  182 0338  D0          	RET	NC
  183 0339  79          	LD	A,C
  184 033A  32 0E75     	LD	(CBPRINTBAUD),A
  185 033D  3A 0E87     	LD	A,(CBPREG4)
  186 0340  E6 3F       	AND	'?'
  187 0342  80          	ADD	A,B
  188 0343  32 0E87     	LD	(CBPREG4),A
  189 0346  C9          	RET
  190 0347              SETCTC1:	
  191 0347  3E 47       	LD	A,'G'	;PRINTER BAUD RATE
  192 0349  D3 0D       	OUT	(0DH),A
  193 034B  3A 0E75     	LD	A,(CBPRINTBAUD)
  194 034E  D3 0D       	OUT	(0DH),A
  195 0350  C9          	RET
  196 0351              BAUDRATE:	
  197 0351  E5          	PUSH	HL
  198 0352  7E          	LD	A,(HL)
  199 0353  21 0AC1     	LD	HL,BAUDRATEMSG
  200 0356  11 0001     	LD	DE,1
  201 0359  01 000B     	LD	BC,0BH
  202 035C  CD 05E4     	CALL	MENU
  203 035F  D1          	POP	DE
  204 0360  D0          	RET	NC
  205 0361  D5          	PUSH	DE
  206 0362  2B          	DEC	HL
  207 0363  EB          	EX	DE,HL
  208 0364  21 0E67     	LD	HL,L0D6A
  209 0367  19          	ADD	HL,DE
  210 0368  4E          	LD	C,(HL)
  211 0369  21 0E5C     	LD	HL,L0D5F
  212 036C  19          	ADD	HL,DE
  213 036D  46          	LD	B,(HL)
  214 036E  E1          	POP	HL
  215 036F  77          	LD	(HL),A
  216 0370  37          	SCF
  217 0371  C9          	RET
  218 0372              SETSIOA:	
  219 0372  21 0E7A     	LD	HL,CBTERM	;TERMINAL PORT 
  220 0375  06 09       	LD	B,9
  221 0377  0E 0A       	LD	C,0AH
  222 0379  F3          	DI
  223 037A  ED B3       	OTIR
  224 037C  FB          	EI
  225 037D  C9          	RET
  226 037E              SETSIOB:	
  227 037E  21 0E83     	LD	HL,CBPRINT	;PRINTER PORT
  228 0381  06 0B       	LD	B,0BH
  229 0383  0E 0B       	LD	C,0BH
  230 0385  F3          	DI
  231 0386  ED B3       	OTIR
  232 0388  FB          	EI

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   5
CONFI   Z80

  233 0389  C9          	RET
  234 038A              TERMSENDSIZE:	
  235 038A  21 0E80     	LD	HL,CBTREG5
  236 038D  CD 03AC     	CALL	SENDSIZE
  237 0390  D0          	RET	NC
  238 0391  E6 60       	AND	60H
  239 0393  32 DA34     	LD	(0DA34H),A
  240 0396  C9          	RET
  241 0397              TERMRECSIZE:	
  242 0397  21 0E7E     	LD	HL,CBTREG3
  243 039A  CD 03D7     	CALL	RECSIZE
  244 039D  C9          	RET
  245 039E              PRINTSENDSIZ:	
  246 039E  21 0E8B     	LD	HL,CBPREG5
  247 03A1  CD 03AC     	CALL	SENDSIZE
  248 03A4              CHARSIZE:	
  249 03A4  D0          	RET	NC
  250 03A5  E6 60       	AND	60H
  251 03A7  32 DA35     	LD	(0DA35H),A
  252 03AA  C9          	RET
  253 03AB              PRINTRECSIZE:	
  254 03AB  C9          	RET
  255 03AC              SENDSIZE:	
  256 03AC  7E          	LD	A,(HL)
  257 03AD  E5          	PUSH	HL
  258 03AE  07          	RLCA
  259 03AF  07          	RLCA
  260 03B0  07          	RLCA
  261 03B1  E6 03       	AND	3
  262 03B3  21 0C72     	LD	HL,BITS2SENDMSG
  263 03B6  11 0001     	LD	DE,1
  264 03B9  01 0004     	LD	BC,4
  265 03BC  CD 05E4     	CALL	MENU
  266 03BF  D1          	POP	DE
  267 03C0  D0          	RET	NC
  268 03C1  D5          	PUSH	DE
  269 03C2  0F          	RRCA
  270 03C3  D2 03C9     	JP	NC,L02CC
  271 03C6  3F          	CCF
  272 03C7  C6 02       	ADD	A,2
  273 03C9              L02CC:	
  274 03C9  0F          	RRCA
  275 03CA  0F          	RRCA
  276 03CB  0F          	RRCA
  277 03CC  E6 60       	AND	60H
  278 03CE  47          	LD	B,A
  279 03CF  E1          	POP	HL
  280 03D0  7E          	LD	A,(HL)
  281 03D1  E6 9F       	AND	9FH
  282 03D3  B0          	OR	B
  283 03D4  77          	LD	(HL),A
  284 03D5  37          	SCF
  285 03D6  C9          	RET
  286 03D7              RECSIZE:	
  287 03D7  7E          	LD	A,(HL)
  288 03D8  E5          	PUSH	HL
  289 03D9  07          	RLCA
  290 03DA  07          	RLCA

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   6
CONFI   Z80

  291 03DB  E6 03       	AND	3
  292 03DD  21 0CE3     	LD	HL,RECSIZEMSG
  293 03E0  11 0001     	LD	DE,1
  294 03E3  01 0004     	LD	BC,4
  295 03E6  CD 05E4     	CALL	MENU
  296 03E9  D1          	POP	DE
  297 03EA  D0          	RET	NC
  298 03EB  D5          	PUSH	DE
  299 03EC  0F          	RRCA
  300 03ED  D2 03F3     	JP	NC,L02F6
  301 03F0  3F          	CCF
  302 03F1  C6 02       	ADD	A,2
  303 03F3              L02F6:	
  304 03F3  0F          	RRCA
  305 03F4  0F          	RRCA
  306 03F5  E6 C0       	AND	0C0H
  307 03F7  47          	LD	B,A
  308 03F8  E1          	POP	HL
  309 03F9  7E          	LD	A,(HL)
  310 03FA  E6 3F       	AND	'?'
  311 03FC  80          	ADD	A,B
  312 03FD  77          	LD	(HL),A
  313 03FE  C9          	RET
  314                   ;
  315                   ;
  316                   ;
  317                   ;
  318 03FF              KBSETUP:	
  319 03FF  21 0987     	LD	HL,KBMSG
  320 0402  3A 0E9B     	LD	A,(CBLANGUAGE)
  321 0405  11 0001     	LD	DE,1
  322 0408  01 0007     	LD	BC,7
  323 040B  CD 05E4     	CALL	MENU
  324 040E  D0          	RET	NC
  325 040F  32 0E9B     	LD	(CBLANGUAGE),A
  326 0412  21 10F2     	LD	HL,KBDANISH
  327 0415  01 0180     	LD	BC,0180H
  328 0418              KBLOOP1:	
  329 0418  3D          	DEC	A
  330 0419  FA 0420     	JP	M,MOVEKBCONFIG
  331 041C  09          	ADD	HL,BC
  332 041D  C3 0418     	JP	KBLOOP1
  333 0420              MOVEKBCONFIG:	
  334 0420  11 0EF2     	LD	DE,CBKB
  335 0423  ED B0       	LDIR
  336 0425  C9          	RET
  337 0426              SETKBMEMORY:	
  338 0426  3A 0E9B     	LD	A,(CBLANGUAGE)
  339 0429  21 10F2     	LD	HL,KBDANISH
  340 042C  01 0180     	LD	BC,0180H
  341 042F              KBLOOP2:	
  342 042F  3D          	DEC	A
  343 0430  FA 0437     	JP	M,MOVEKBMEMORY
  344 0433  09          	ADD	HL,BC
  345 0434  C3 042F     	JP	KBLOOP2
  346 0437              MOVEKBMEMORY:	
  347 0437  11 F680     	LD	DE,0F680H
  348 043A  ED B0       	LDIR

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   7
CONFI   Z80

  349 043C  C9          	RET
  350 043D              CURSORSETUP:	
  351 043D  21 0D4C     	LD	HL,CURSORMSG
  352 0440  11 0001     	LD	DE,1
  353 0443  01 0002     	LD	BC,2
  354 0446  CD 05E4     	CALL	MENU
  355 0449  D0          	RET	NC
  356 044A  11 043D     	LD	DE,CURSORSETUP
  357 044D  D5          	PUSH	DE
  358 044E  CD 0670     	CALL	JUMPJPTABLE
  359 0451  0455        	DW	CURSORFORM
  360 0453  049C        	DW	CURSXB4Y
  361 0455              CURSORFORM:	
  362 0455  21 0900     	LD	HL,CURSFORMMSG
  363 0458  3A 0E9A     	LD	A,(CBCURSOR)
  364 045B  11 0001     	LD	DE,1
  365 045E  01 0004     	LD	BC,4
  366 0461  CD 05E4     	CALL	MENU
  367 0464  D0          	RET	NC
  368 0465  7D          	LD	A,L
  369 0466  3D          	DEC	A
  370 0467  32 0E9A     	LD	(CBCURSOR),A
  371 046A  E6 03       	AND	3
  372 046C  07          	RLCA
  373 046D  07          	RLCA
  374 046E  07          	RLCA
  375 046F  07          	RLCA
  376 0470  4F          	LD	C,A
  377 0471  3A 0E95     	LD	A,(CBVIDEO4)
  378 0474  E6 CF       	AND	0CFH
  379 0476  B1          	OR	C
  380 0477  32 0E95     	LD	(CBVIDEO4),A
  381 047A  C9          	RET
  382 047B              SETVIDEO:	
  383 047B  3E 40       	LD	A,'@'
  384 047D  D3 01       	OUT	(01H),A
  385 047F  3E 00       	LD	A,0
  386 0481  D3 01       	OUT	(01H),A
  387 0483  3A 0E92     	LD	A,(CBVIDEO1)
  388 0486  D3 00       	OUT	(00H),A
  389 0488  3A 0E93     	LD	A,(CBVIDEO2)
  390 048B  D3 00       	OUT	(00H),A
  391 048D  3A 0E94     	LD	A,(CBVIDEO3)
  392 0490  D3 00       	OUT	(00H),A
  393 0492  3A 0E95     	LD	A,(CBVIDEO4)
  394 0495  D3 00       	OUT	(00H),A
  395 0497  3E 23       	LD	A,'#'
  396 0499  D3 01       	OUT	(01H),A
  397 049B  C9          	RET
  398                   ;
  399                   ;
  400                   ;
  401 049C              CURSXB4Y:	
  402 049C  21 0D9A     	LD	HL,CURSADDRMSG
  403 049F  3A 0E9E     	LD	A,(CBXB4Y)
  404 04A2  11 0001     	LD	DE,1
  405 04A5  01 0002     	LD	BC,2
  406 04A8  CD 05E4     	CALL	MENU

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   8
CONFI   Z80

  407 04AB  D0          	RET	NC
  408 04AC  32 0E9E     	LD	(CBXB4Y),A
  409 04AF  32 DA33     	LD	(0DA33H),A
  410 04B2  C9          	RET
  411                   ;
  412                   ;
  413                   ;
  414                   ;
  415 04B3              STOPTIME:	
  416 04B3  21 0DE3     	LD	HL,STOPTIME1MSG
  417 04B6  CD 0679     	CALL	PRINTMENU
  418 04B9  2A 0E9F     	LD	HL,(CBSTOPTIME)
  419 04BC  CD 0594     	CALL	HLDIV50
  420 04BF  CD 05A4     	CALL	PRINTHLDEC
  421 04C2  21 0E23     	LD	HL,STOPTIME2MSG
  422 04C5  11 0005     	LD	DE,5
  423 04C8  01 04B0     	LD	BC,04B0H	;1200
  424 04CB  CD 05E4     	CALL	MENU
  425 04CE  D0          	RET	NC
  426 04CF  CD 058B     	CALL	MULT50HL
  427 04D2  22 FFE7     	LD	(0FFE7H),HL
  428 04D5  22 0E9F     	LD	(CBSTOPTIME),HL
  429 04D8  C9          	RET
  430 04D9              SAVECB:	
  431 04D9  3E 01       	LD	A,1
  432 04DB  CD 04F3     	CALL	READCB
  433 04DE  C9          	RET
  434 04DF              RWSECTOR:	
  435 04DF  B7          	OR	A
  436 04E0  28 08       	JR	Z,RSECTOR
  437 04E2  01 0000     	LD	BC,0
  438 04E5  CD DA2A     	CALL	0DA2AH
  439 04E8  18 03       	JR	CHECKRWRES
  440 04EA              RSECTOR:	
  441 04EA  CD DA27     	CALL	0DA27H
  442 04ED              CHECKRWRES:	
  443 04ED  FE 00       	CP	0
  444 04EF  C2 06D6     	JP	NZ,BADSECTOR
  445 04F2  C9          	RET
  446 04F3              READCB:	
  447 04F3  F5          	PUSH	AF
  448 04F4  3A 0E5B     	LD	A,(DRIVE)
  449 04F7  FE 02       	CP	2
  450 04F9  28 1D       	JR	Z,READDRIVEC
  451 04FB  F1          	POP	AF
  452 04FC  21 DA37     	LD	HL,0DA37H	;DRIVE A FORMAT
  453 04FF  46          	LD	B,(HL)
  454 0500  C5          	PUSH	BC
  455 0501  F5          	PUSH	AF
  456 0502  DB 14       	IN	A,(14H)
  457 0504  E6 80       	AND	80H
  458 0506  28 04       	JR	Z,MINISYSTEM
  459 0508  3E 00       	LD	A,0
  460 050A  18 02       	JR	SETTRACK0FOR
  461 050C              MINISYSTEM:	
  462 050C  3E 10       	LD	A,10H
  463 050E              SETTRACK0FOR:	
  464 050E  77          	LD	(HL),A

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page   9
CONFI   Z80

  465 050F  01 0000     	LD	BC,0
  466 0512  CD DA1B     	CALL	0DA1BH	;BIOS - SELDSK 0
  467 0515  C3 051F     	JP	READCBBLOCKS
  468 0518              READDRIVEC:	
  469 0518  06 00       	LD	B,0
  470 051A  0E 02       	LD	C,2
  471 051C  CD DA1B     	CALL	0DA1BH	;BIOS - SELDSK 2
  472 051F              READCBBLOCKS:	
  473 051F  01 0000     	LD	BC,0
  474 0522  CD DA1E     	CALL	0DA1EH	; SET TRACK
  475 0525  01 0001     	LD	BC,1
  476 0528  CD DA21     	CALL	0DA21H	; SET SECTOR
  477 052B  01 0E72     	LD	BC,CBBLOCK1
  478 052E  CD DA24     	CALL	0DA24H	; SET DMA
  479 0531  F1          	POP	AF
  480 0532  F5          	PUSH	AF	;POP/PUSH OPERATION CODE IN A
  481 0533  CD 04DF     	CALL	RWSECTOR
  482 0536  01 0EF2     	LD	BC,CBKB
  483 0539  CD DA24     	CALL	0DA24H	;SET DMA
  484 053C  01 0002     	LD	BC,2
  485 053F  CD DA21     	CALL	0DA21H	;SET SECTOR
  486 0542  F1          	POP	AF
  487 0543  F5          	PUSH	AF
  488 0544  CD 04DF     	CALL	RWSECTOR
  489 0547  01 0F72     	LD	BC,CBBLOCK3
  490 054A  CD DA24     	CALL	0DA24H	;SETDMA
  491 054D  01 0003     	LD	BC,3
  492 0550  CD DA21     	CALL	0DA21H	;SETSECTOR
  493 0553  F1          	POP	AF
  494 0554  F5          	PUSH	AF
  495 0555  CD 04DF     	CALL	RWSECTOR
  496 0558  01 0FF2     	LD	BC,CBBLOCK4
  497 055B  CD DA24     	CALL	0DA24H
  498 055E  01 0004     	LD	BC,4
  499 0561  CD DA21     	CALL	0DA21H
  500 0564  F1          	POP	AF
  501 0565  CD 04DF     	CALL	RWSECTOR
  502 0568  3A 0E5B     	LD	A,(DRIVE)	; DONE WITH R/W.  NOW CLEAN UP
  503 056B  FE 02       	CP	2
  504 056D  CA 057C     	JP	Z,DONEHD
  505 0570  21 DA37     	LD	HL,0DA37H	;RESTORE ORIGINAL FLOPPY TYPE
  506 0573  F1          	POP	AF
  507 0574  77          	LD	(HL),A
  508 0575  01 0000     	LD	BC,0
  509 0578  CD DA1B     	CALL	0DA1BH
  510 057B  C9          	RET
  511 057C              DONEHD:	
  512 057C  06 00       	LD	B,0
  513 057E  0E 02       	LD	C,2
  514 0580  CD DA1B     	CALL	0DA1BH
  515 0583  C9          	RET
  516 0584              MULT10HL:	
  517 0584  29          	ADD	HL,HL
  518 0585  54          	LD	D,H
  519 0586  5D          	LD	E,L
  520 0587  29          	ADD	HL,HL
  521 0588  29          	ADD	HL,HL
  522 0589  19          	ADD	HL,DE

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  10
CONFI   Z80

  523 058A  C9          	RET
  524 058B              MULT50HL:	
  525 058B  CD 0584     	CALL	MULT10HL
  526 058E  54          	LD	D,H
  527 058F  5D          	LD	E,L
  528 0590  29          	ADD	HL,HL
  529 0591  29          	ADD	HL,HL
  530 0592  19          	ADD	HL,DE
  531 0593  C9          	RET
  532 0594              HLDIV50:	
  533 0594  11 0001     	LD	DE,1
  534 0597  01 FFCE     	LD	BC,0FFCEH	;-50
  535 059A              L049D:	
  536 059A  09          	ADD	HL,BC
  537 059B  7C          	LD	A,H
  538 059C  B5          	OR	L
  539 059D  28 03       	JR	Z,HLDIB50C
  540 059F  13          	INC	DE
  541 05A0  18 F8       	JR	L049D
  542 05A2              HLDIB50C:	
  543 05A2  EB          	EX	DE,HL
  544 05A3  C9          	RET
  545 05A4              PRINTHLDEC:	
  546 05A4  06 00       	LD	B,0
  547 05A6  11 2710     	LD	DE,2710H	;10000
  548 05A9  CD 05C1     	CALL	PRINTHLDIVDE
  549 05AC  11 03E8     	LD	DE,03E8H	;1000
  550 05AF  CD 05C1     	CALL	PRINTHLDIVDE
  551 05B2  11 0064     	LD	DE,64H	;100
  552 05B5  CD 05C1     	CALL	PRINTHLDIVDE
  553 05B8  11 000A     	LD	DE,0AH	;10
  554 05BB  CD 05C1     	CALL	PRINTHLDIVDE
  555 05BE  11 0001     	LD	DE,1
  556 05C1              PRINTHLDIVDE:	
  557 05C1  0E 30       	LD	C,'0'
  558 05C3              PRINTHL2:	
  559 05C3  B7          	OR	A
  560 05C4  ED 52       	SBC	HL,DE
  561 05C6  38 03       	JR	C,PRINTHL3
  562 05C8  0C          	INC	C
  563 05C9  18 F8       	JR	PRINTHL2
  564 05CB              PRINTHL3:	
  565 05CB  19          	ADD	HL,DE
  566 05CC  3E 30       	LD	A,'0'
  567 05CE  B9          	CP	C
  568 05CF  28 02       	JR	Z,PRINTHL4
  569 05D1  06 01       	LD	B,1
  570 05D3              PRINTHL4:	
  571 05D3  AF          	XOR	A	;UDSKRIV TEGNET I C, HVISS B=1
  572 05D4  B8          	CP	B
  573 05D5  F5          	PUSH	AF
  574 05D6  E5          	PUSH	HL
  575 05D7  C5          	PUSH	BC
  576 05D8  D5          	PUSH	DE
  577 05D9  59          	LD	E,C
  578 05DA  0E 02       	LD	C,2
  579 05DC  C4 0005     	CALL	NZ,5
  580 05DF  D1          	POP	DE

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  11
CONFI   Z80

  581 05E0  C1          	POP	BC
  582 05E1  E1          	POP	HL
  583 05E2  F1          	POP	AF
  584 05E3  C9          	RET
  585                   ;
  586                   ;
  587                   ;
  588                   ;
  589 05E4              MENU:	
  590 05E4  D5          	PUSH	DE
  591 05E5  C5          	PUSH	BC
  592 05E6  CD 0679     	CALL	PRINTMENU
  593 05E9              GETCHOICE:	
  594 05E9  21 0DD7     	LD	HL,CHOICEMSG
  595 05EC  CD 0679     	CALL	PRINTMENU
  596 05EF  21 0000     	LD	HL,0
  597 05F2  22 066E     	LD	(CMDNUMBER),HL
  598 05F5  0E 0A       	LD	C,0AH
  599 05F7  11 0664     	LD	DE,READLINEBUF
  600 05FA  CD 0005     	CALL	5
  601 05FD  21 0665     	LD	HL,READLINELEN
  602 0600  7E          	LD	A,(HL)
  603 0601  32 066D     	LD	(CMDLEN),A
  604 0604  B7          	OR	A
  605 0605  28 40       	JR	Z,PRINTCRLF	;RETURN ON CR
  606 0607  23          	INC	HL
  607 0608  22 066B     	LD	(CMDPTR),HL
  608 060B              MENUNEXTCH:	
  609 060B  3A 066D     	LD	A,(CMDLEN)
  610 060E  3D          	DEC	A
  611 060F  FA 062F     	JP	M,MENUCHECKCMD
  612 0612  32 066D     	LD	(CMDLEN),A
  613 0615  2A 066B     	LD	HL,(CMDPTR)
  614 0618  7E          	LD	A,(HL)
  615 0619  23          	INC	HL
  616 061A  22 066B     	LD	(CMDPTR),HL
  617 061D  2A 066E     	LD	HL,(CMDNUMBER)
  618 0620  CD 0584     	CALL	MULT10HL
  619 0623  D6 30       	SUB	'0'
  620 0625  5F          	LD	E,A
  621 0626  16 00       	LD	D,0
  622 0628  19          	ADD	HL,DE
  623 0629  22 066E     	LD	(CMDNUMBER),HL
  624 062C  C3 060B     	JP	MENUNEXTCH
  625 062F              MENUCHECKCMD:	
  626 062F  2A 066E     	LD	HL,(CMDNUMBER)
  627 0632  C1          	POP	BC
  628 0633  D1          	POP	DE
  629 0634  D5          	PUSH	DE
  630 0635  C5          	PUSH	BC
  631 0636  B7          	OR	A
  632 0637  ED 52       	SBC	HL,DE
  633 0639  38 21       	JR	C,BADCHOICE
  634 063B  19          	ADD	HL,DE
  635 063C  03          	INC	BC
  636 063D  B7          	OR	A
  637 063E  ED 42       	SBC	HL,BC
  638 0640  D2 065C     	JP	NC,BADCHOICE

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  12
CONFI   Z80

  639 0643  09          	ADD	HL,BC
  640 0644  7D          	LD	A,L
  641 0645  3D          	DEC	A
  642 0646  37          	SCF
  643 0647              PRINTCRLF:	
  644 0647  F5          	PUSH	AF
  645 0648  E5          	PUSH	HL
  646 0649  0E 02       	LD	C,2
  647 064B  1E 0A       	LD	E,0AH
  648 064D  CD 0005     	CALL	5
  649 0650  0E 02       	LD	C,2
  650 0652  1E 0D       	LD	E,0DH
  651 0654  CD 0005     	CALL	5
  652 0657  E1          	POP	HL
  653 0658  F1          	POP	AF
  654 0659  C1          	POP	BC
  655 065A  D1          	POP	DE
  656 065B  C9          	RET
  657 065C              BADCHOICE:	
  658 065C  21 0C5C     	LD	HL,ILLEGALMSG
  659 065F  CD 0679     	CALL	PRINTMENU
  660 0662  18 85       	JR	GETCHOICE
  661 0664              READLINEBUF:	
  662 0664  05          	DB	5
  663 0665              READLINELEN:	
  664 0665  00          	DB	0
  665 0666              READLINECH1:	
  666 0666  00 00 00 00 	DB	0,0,0,0,0
  667 066B              CMDPTR:	
  668 066B  0666        	DW	READLINECH1
  669 066D              CMDLEN:	
  670 066D  00          	DB	0
  671 066E              CMDNUMBER:	
  672 066E  00 00       	DB	0,0
  673 0670              JUMPJPTABLE:	
  674 0670  D1          	POP	DE
  675 0671  2B          	DEC	HL
  676 0672  29          	ADD	HL,HL
  677 0673  19          	ADD	HL,DE
  678 0674  5E          	LD	E,(HL)
  679 0675  23          	INC	HL
  680 0676  56          	LD	D,(HL)
  681 0677  EB          	EX	DE,HL
  682 0678  E9          	JP	(HL)
  683 0679              PRINTMENU:	
  684 0679  32 06D5     	LD	(STARREDCMD),A
  685 067C              PRINTNEXTHL:	
  686 067C  7E          	LD	A,(HL)
  687 067D  B7          	OR	A
  688 067E  C8          	RET	Z
  689 067F  FE 06       	CP	6	;HVIS ^F SAA UDSKRIV CURSORSAETNING
  690 0681  CC 06B4     	CALL	Z,SETCURSORPOS
  691 0684  FE 05       	CP	5	;HVIS ^E SAA PREFIX MED '*' HVIS DET RIGTIGE NUMMER, ELLERS ' '
  692 0686  C2 069E     	JP	NZ,PRINTPLAINCH
  693 0689  3A 06D5     	LD	A,(STARREDCMD)
  694 068C  3D          	DEC	A
  695 068D  32 06D5     	LD	(STARREDCMD),A
  696 0690  B7          	OR	A

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  13
CONFI   Z80

  697 0691  F2 069C     	JP	P,PRINTSPACE
  698 0694  3E 2A       	LD	A,'*'
  699 0696  32 06D5     	LD	(STARREDCMD),A	;NO MORE CHECK ON '*'
  700 0699  C3 069E     	JP	PRINTPLAINCH
  701 069C              PRINTSPACE:	
  702 069C  3E 20       	LD	A,' '
  703 069E              PRINTPLAINCH:	
  704 069E  FE 1F       	CP	1FH
  705 06A0  28 0B       	JR	Z,PRINTBIOS
  706 06A2              PRINTBDOS:	
  707 06A2  5F          	LD	E,A
  708 06A3  E5          	PUSH	HL
  709 06A4  0E 02       	LD	C,2
  710 06A6  CD 0005     	CALL	5
  711 06A9  E1          	POP	HL
  712 06AA  23          	INC	HL
  713 06AB  18 CF       	JR	PRINTNEXTHL
  714 06AD              PRINTBIOS:	
  715 06AD  4F          	LD	C,A	;CONTROL CHARACTERS GOES HERE.
  716 06AE  CD DA0C     	CALL	0DA0CH
  717 06B1  23          	INC	HL
  718 06B2  18 C8       	JR	PRINTNEXTHL
  719 06B4              SETCURSORPOS:	
  720 06B4  4F          	LD	C,A
  721 06B5  CD DA0C     	CALL	0DA0CH	;SEND ^F
  722 06B8  23          	INC	HL
  723 06B9  56          	LD	D,(HL)
  724 06BA  23          	INC	HL
  725 06BB  5E          	LD	E,(HL)	;DE = CURSOR POSITION
  726 06BC  3A DA33     	LD	A,(0DA33H)	;CHECK BIOS FOR WHICH FORMAT TO USE.
  727 06BF  B7          	OR	A
  728 06C0  C2 06CC     	JP	NZ,CURSORBCKWRD
  729 06C3  4A          	LD	C,D
  730 06C4  CD DA0C     	CALL	0DA0CH
  731 06C7  4B          	LD	C,E
  732 06C8  CD DA0C     	CALL	0DA0CH
  733 06CB  C9          	RET
  734 06CC              CURSORBCKWRD:	
  735 06CC  4B          	LD	C,E
  736 06CD  CD DA0C     	CALL	0DA0CH
  737 06D0  4A          	LD	C,D
  738 06D1  CD DA0C     	CALL	0DA0CH
  739 06D4  C9          	RET
  740 06D5              STARREDCMD:	
  741 06D5  FF          	DB	0FFH
  742 06D6              BADSECTOR:	
  743 06D6  11 0748     	LD	DE,BADSECTORMSG
  744 06D9  0E 09       	LD	C,9
  745 06DB  CD 0005     	CALL	5
  746 06DE  C3 0000     	JP	0
  747 06E1              WELCOMEMSG:	
  748 06E1  0A 0A 0D 52 	DB	0AH,0AH,0DH,'RC700 CP/M CONFIGURATI'
  749 06FA  4F 4E 20 55 	DB	'ON UTILITY  VERS 2.1  13.01.83$'
  750 0719              DISKACMSG:	
  751 0719  0A 0D 53 45 	DB	0AH,0DH,'SELECT SYSTEM DISK '
  752 072E  46 4F 52 20 	DB	'FOR CONFIGURATION (A/C)? $'
  753 0748              BADSECTORMSG:	
  754 0748  0A 0D 42 41 	DB	0AH,0DH,'BAD SECTOR $'

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  14
CONFI   Z80

  755 0756              MENUMSG:	
  756 0756  0C 06 32 25 	DB	0CH,6,'2%********** MENU **********'
  757 0774  0A 0D 06 32 	DB	0AH,0DH,6,'2',27H,'1: PRINTER PORT'
  758 0788  0A 0D 06 32 	DB	0AH,0DH,6,'2(2: TERMINAL PORT'
  759 079D  0A 0D 06 32 	DB	0AH,0DH,6,'2)3: CONVERSION'
  760 07AF  0A 0D 06 32 	DB	0AH,0DH,6,'2*4: CURSOR',0AH
  761 07BE  0D 06 32 2B 	DB	0DH,6,'2+5: MINI MOTOR STOP '
  762 07D5  54 49 4D 45 	DB	'TIMER',0AH,0DH,6,'2,6: SAVE '
  763 07E7  43 4F 4E 46 	DB	'CONFIGURATION DESCRIPTION'
  764 0800  0A 0D 06 32 	DB	0AH,0DH,6,'2-',0
  765 0806              TERMMSG:	
  766 0806  06 32 25 1F 	DB	6,'2%',1FH,6,'2%********* TERMINAL '
  767 0820  50 4F 52 54 	DB	'PORT *********',0AH,0DH,6
  768 0831  32 27 2A 2A 	DB	'2',27H,'************* MENU *************'
  769 0853  2A 0A 0D 06 	DB	'*',0AH,0DH,6,'2)1: NUMBER '
  770 0863  4F 46 20 53 	DB	'OF STOP BITS PR. CHARACTER'
  771 087D  0A 0D 06 32 	DB	0AH,0DH,6,'2*2: PARITY',0AH
  772 088C  0D 06 32 2B 	DB	0DH,6,'2+3: BAUDRATE',0AH,0DH
  773 089D  06 32 2C 34 	DB	6,'2,4: NUMBER OF BITS PR. '
  774 08B6  43 48 41 52 	DB	'CHARACTER TO TRANSMIT',0AH
  775 08CC  0D 06 32 2D 	DB	0DH,6,'2-5: NUMBER OF BITS '
  776 08E2  50 52 2E 20 	DB	'PR. CHARACTER TO RECEIVE'
  777 08FA  0A 0D 06 32 	DB	0AH,0DH,6,'2.',0
  778 0900              CURSFORMMSG:	
  779 0900  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'******** FORMAT '
  780 0917  2A 2A 2A 2A 	DB	'********',0AH,0DH,6,'1)',5
  781 0925  31 3A 20 42 	DB	'1: BLINKING REVERSE VIDEO'
  782 093E  0A 0D 06 31 	DB	0AH,0DH,6,'1*',5,'2: BLINKING '
  783 0950  55 4E 44 45 	DB	'UNDERLINE',0AH,0DH,6,'1+'
  784 095E  05 33 3A 20 	DB	5,'3: REVERSE VIDEO',0AH,0DH
  785 0971  06 31 2C 05 	DB	6,'1,',5,'4: UNDERLINE',0AH
  786 0982  0D 06 32 2D 	DB	0DH,6,'2-',0
  787 0987              KBMSG:	
  788 0987  06 32 25 1F 	DB	6,'2%',1FH,6,'2%******** CONVERSION'
  789 09A1  20 54 41 42 	DB	' TABLE ********',0AH,0DH,6
  790 09B3  31 27 05 31 	DB	'1',"'",5,'1: DANISH',0AH,0DH
  791 09C1  06 31 28 05 	DB	6,'1(',5,'2: SWEDISH',0AH,0DH
  792 09D1  06 31 29 05 	DB	6,'1)',5,'3: GERMAN',0AH,0DH
  793 09E0  06 31 2A 05 	DB	6,'1*',5,'4: UK-ASCII',0AH
  794 09F0  0D 06 31 2B 	DB	0DH,6,'1+',5,'5: US+WS-Th'
  795 0A00  0A 0D 06 31 	DB	0AH,0DH,6,'1,',5,'6: FRENCH'
  796 0A0F  0A 0D 06 31 	DB	0AH,0DH,6,'1-',5,'7: LIBRARY'
  797 0A1F  0A 0D 06 32 	DB	0AH,0DH,6,'2.',0
  798 0A25              STOPBITSMSG:	
  799 0A25  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'******** STOPBITS '
  800 0A3E  2A 2A 2A 2A 	DB	'********',0AH,0DH,6,'1)',5
  801 0A4C  31 3A 20 31 	DB	'1: 1 BIT',0AH,0DH,6,'1*',5
  802 0A5A  32 3A 20 31 	DB	'2: 1.5 BIT',0AH,0DH,6,'1+'
  803 0A69  05 33 3A 20 	DB	5,'3: 2 BIT',0AH,0DH,6,'2,'
  804 0A77  00          	DB	0
  805 0A78              PARITYMSG:	
  806 0A78  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'******** PARITY '
  807 0A8F  2A 2A 2A 2A 	DB	'********',0AH,0DH,6,'1)',5
  808 0A9D  31 3A 20 45 	DB	'1: EVEN',0AH,0DH,6,'1*',5
  809 0AAA  32 3A 20 4E 	DB	'2: NO',0AH,0DH,6,'1+',5,'3: '
  810 0AB8  4F 44 44 0A 	DB	'ODD',0AH,0DH,6,'2,',0
  811 0AC1              BAUDRATEMSG:	
  812 0AC1  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'******** BAUDRATE '

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  15
CONFI   Z80

  813 0ADA  2A 2A 2A 2A 	DB	'********',0AH,0DH,6,'1)',5
  814 0AE8  20 31 3A 20 	DB	' 1:     50 BPS',0AH,0DH,6
  815 0AF9  31 2A 05 20 	DB	'1*',5,' 2:     75 BPS',0AH
  816 0B0B  0D 06 31 2B 	DB	0DH,6,'1+',5,' 3:    110 BPS'
  817 0B1E  0A 0D 06 31 	DB	0AH,0DH,6,'1,',5,' 4:    150 '
  818 0B2F  42 50 53 0A 	DB	'BPS',0AH,0DH,6,'1-',5,' 5: '
  819 0B3C  20 20 20 33 	DB	'   300 BPS',0AH,0DH,6,'1.'
  820 0B4B  05 20 36 3A 	DB	5,' 6:    600 BPS',0AH,0DH
  821 0B5C  06 31 2F 05 	DB	6,'1/',5,' 7:   1200 BPS',0AH
  822 0B6F  0D 06 31 30 	DB	0DH,6,'10',5,' 8:   2400 BPS'
  823 0B82  0A 0D 06 31 	DB	0AH,0DH,6,'11',5,' 9:   4800 '
  824 0B93  42 50 53 0A 	DB	'BPS',0AH,0DH,6,'12',5,'10: '
  825 0BA0  20 20 39 36 	DB	'  9600 BPS',0AH,0DH,6,'13'
  826 0BAF  05 31 31 3A 	DB	5,'11:  19200 BPS',0AH,0DH
  827 0BC0  06 32 34 00 	DB	6,'24',0
  828 0BC4              PRINTERMSG:	
  829 0BC4  06 32 25 1F 	DB	6,'2%',1FH,6,'2%********* PRINTER '
  830 0BDD  50 4F 52 54 	DB	'PORT *********',0AH,0DH,6
  831 0BEE  32 27 2A 2A 	DB	'2',27H,'************* MENU *************'
  832 0C10  0A 0D 06 32 	DB	0AH,0DH,6,'2)1: STOPBIT',0AH
  833 0C20  0D 06 32 2A 	DB	0DH,6,'2*2: PARITY',0AH,0DH
  834 0C2F  06 32 2B 33 	DB	6,'2+3: BAUDRATE',0AH,0DH,6
  835 0C40  32 2C 34 3A 	DB	'2,4: BIT PR. CHARACTER',0AH
  836 0C57  0D 06 32 2D 	DB	0DH,6,'2-',0
  837 0C5C              ILLEGALMSG:	
  838 0C5C  06 40 37 07 	DB	6,'@7',7,'*** ILLEGAL ***'
  839 0C6F  0A 0D 00    	DB	0AH,0DH,0
  840 0C72              BITS2SENDMSG:	
  841 0C72  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'****** BITS/CHAR '
  842 0C8A  54 52 41 4E 	DB	'TRANSMITTER ******',0AH,0DH
  843 0C9E  06 31 29 05 	DB	6,'1)',5,'1: 1 TO 5 BITS',0AH
  844 0CB1  0D 06 31 2B 	DB	0DH,6,'1+',5,'3: 7 BITS',0AH
  845 0CC0  0D 06 31 2A 	DB	0DH,6,'1*',5,'2: 6 BITS',0AH
  846 0CCF  0D 06 31 2C 	DB	0DH,6,'1,',5,'4: 8 BITS',0AH
  847 0CDE  0D 06 32 2D 	DB	0DH,6,'2-',0
  848 0CE3              RECSIZEMSG:	
  849 0CE3  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'****** BITS/CHAR '
  850 0CFB  52 45 43 45 	DB	'RECEIVER ******',0AH,0DH,6
  851 0D0D  31 29 05 31 	DB	'1)',5,'1: 5 BITS',0AH,0DH
  852 0D1B  06 31 2B 05 	DB	6,'1+',5,'3: 7 BITS',0AH,0DH
  853 0D2A  06 31 2A 05 	DB	6,'1*',5,'2: 6 BITS',0AH,0DH
  854 0D39  06 31 2C 05 	DB	6,'1,',5,'4: 8 BITS',0AH,0DH
  855 0D48  06 32 2D 00 	DB	6,'2-',0
  856 0D4C              CURSORMSG:	
  857 0D4C  06 32 25 1F 	DB	6,'2%',1FH,6,'2%*** CURSOR '
  858 0D5E  2A 2A 2A 0A 	DB	'***',0AH,0DH,6,'2',27H,'**** MENU '
  859 0D70  2A 2A 2A 2A 	DB	'****',0AH,0DH,6,'2(1: FORMAT'
  860 0D82  0A 0D 06 32 	DB	0AH,0DH,6,'2)2: ADDRESSING'
  861 0D94  0A 0D 06 32 	DB	0AH,0DH,6,'2*',0
  862 0D9A              CURSADDRMSG:	
  863 0D9A  06 32 26 1F 	DB	6,'2&',1FH,6,'2',27H,'****** ADDRESSING '
  864 0DB3  2A 2A 2A 2A 	DB	'******',0AH,0DH,6,'1)',5,'1: '
  865 0DC2  48 2C 56 0A 	DB	'H,V',0AH,0DH,6,'1*',5,'2: '
  866 0DCE  56 2C 48 0A 	DB	'V,H',0AH,0DH,6,'2+',0
  867 0DD7              CHOICEMSG:	
  868 0DD7  06 32 37 43 	DB	6,'27CHOICE: ',0
  869 0DE3              STOPTIME1MSG:	
  870 0DE3  06 32 25 1F 	DB	6,'2%',1FH,6,'2%***** MINI '

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  16
CONFI   Z80

  871 0DF5  4D 4F 54 4F 	DB	'MOTOR STOP TIMER *****',0AH
  872 0E0C  0D 06 32 27 	DB	0DH,6,'2',27H,'CURRENT VALUE IS: '
  873 0E22  00          	DB	0
  874 0E23              STOPTIME2MSG:	
  875 0E23  20 53 45 43 	DB	' SECONDS',0AH,0DH,6,'2'
  876 0E2F  29 53 45 4C 	DB	')SELECT NEW VALUE (RANGE 5-1200 '
  877 0E4F  53 45 43 4F 	DB	'SECONDS).',0AH,0DH,0
  878 0E5B              DRIVE:	
  879 0E5B  00          	DB	0
  880 0E5C              L0D5F:	
  881 0E5C  C0 C0 C0 C0 	DB	0C0H,0C0H,0C0H,0C0H,0C0H,40H,40H
  882 0E63  40 40 40 40 	DB	40H,40H,40H,40H
  883 0E67              L0D6A:	
  884 0E67  C1 80 58 40 	DB	0C1H,80H,58H,40H,20H,40H,20H
  885 0E6E  10 08 04 02 	DB	10H,08H,04H,02H
  886         0E72      CBBLOCK1	equ $
  887         0F72      cbblock3	equ $+2*128
  888         0FF2      cbblock4	equ $+3*128
  889                   
  890 0E72  00          	DB	0
  891 0E73              CBTERMBAUD:	
  892 0E73  00 00       	DB	0,0
  893 0E75              CBPRINTBAUD:	
  894 0E75  00 00 00 00 	DB	0,0,0,0,0
  895                   ;
  896                   ;
  897 0E7A              CBTERM:	
  898 0E7A  00 00       	DB	0,0
  899 0E7C              CBTREG4:	
  900 0E7C  00 00       	DB	0,0
  901 0E7E              CBTREG3:	
  902 0E7E  00 00       	DB	0,0
  903 0E80              CBTREG5:	
  904 0E80  00 00 00    	DB	0,0,0
  905                   ;
  906                   ;
  907 0E83              CBPRINT:	
  908 0E83  00 00 00 00 	DB	0,0,0,0
  909 0E87              CBPREG4:	
  910 0E87  00 00       	DB	0,0
  911 0E89              CBPREG3:	
  912 0E89  00 00       	DB	0,0
  913 0E8B              CBPREG5:	
  914 0E8B  00          	DB	0
  915                   ;
  916                   ;
  917 0E8C  00 00 00 00 	DB	0,0,0,0,0,0
  918 0E92              CBVIDEO1:	
  919 0E92  00          	DB	0
  920 0E93              CBVIDEO2:	
  921 0E93  00          	DB	0
  922 0E94              CBVIDEO3:	
  923 0E94  00          	DB	0
  924 0E95              CBVIDEO4:	
  925 0E95  00          	DB	0
  926                   ;G=(BLINKREVERSE, BLINKUNDERSCORE, REVERSE, UNDERSCORE), H=HORIZONTAL RET CO
  927 0E96  00          	DB	0
  928 0E97  00 00 00    	DB	0,0,0

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  17
CONFI   Z80

  929 0E9A              CBCURSOR:	
  930 0E9A  00          	DB	0
  931 0E9B              CBLANGUAGE:	
  932 0E9B  00          	DB	0
  933 0E9C              CURTERMBAUD:	
  934 0E9C  00          	DB	0
  935 0E9D              CURPRINTBAUD:	
  936 0E9D  00          	DB	0
  937 0E9E              CBXB4Y:	
  938 0E9E  00          	DB	0
  939 0E9F              CBSTOPTIME:	
  940 0E9F  00 00       	DB	0,0
  941 0EA1  E5 D5 2A BB 	DB	0E5H,0D5H,2AH,0BBH,3AH,0E5H,0E5H
  942 0EA8  2A 96 3A E5 	DB	2AH,96H,3AH,0E5H,21H,0C0H,02H
  943 0EAF  E5 21 40 30 	DB	0E5H,21H,40H,30H,0E5H,0C5H,0C9H
  944 0EB6  CD 93 30 C1 	DB	0CDH,93H,30H,0C1H,0E1H,0D1H,0CDH
  945 0EBD  49 0D C2 6F 	DB	49H,0DH,0C2H,6FH,30H,3AH,9FH
  946 0EC4  3A B7 C2 58 	DB	3AH,0B7H,0C2H,58H,30H,78H,177
  947 0ECB  C2 6F 30 2A 	DB	0C2H,6FH,30H,2AH,91H,3AH,0E5H
  948 0ED2  CD EA 34 E1 	DB	0CDH,0EAH,34H,0E1H,0CDH,0CBH,2CH
  949 0ED9  AF 32 9F 3A 	DB	0AFH,32H,9FH,3AH,0D1H,0D5H,2AH
  950 0EE0  98 3A E5 EB 	DB	98H,3AH,0E5H,0EBH,0E9H,0D5H,0CDH
  951 0EE7  C8 35 B7 CA 	DB	0C8H,35H,0B7H,0CAH,0A2H,30H,11H
  952 0EEE  8D 38 CD DE 	DB	8DH,38H,0CDH,0DEH
  953 0EF2              CBKB:	
  954 0EF2    0180      	DS	0180H
  955 1072              STACK:	
  956 1072    0080      	DS	0080H
  957 10F2              KBDANISH:	
  958 10F2  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
  959 10FE  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
  960 1105  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
  961 110C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
  962 111C  2A 2B 2C 2D 	DB	'*+,-./0123456789:;<=>?@ABCDEFGHIJK'
  963 113E  4C 4D 4E 4F 	DB	'LMNOPQRSTUVWXYZ[',5CH,']^_`abcdefghijklm'
  964 1160  6E 6F 70 71 	DB	'nopqrstuvwxyz{|}~',7FH,0,1
  965 1174  02 03 04 05 	DB	2,3,4,5,6,7,8,9,0AH,0BH,0CH
  966 117F  0D 0E 0F 10 	DB	0DH,0EH,0FH,10H,11H,12H,13H
  967 1186  14 15 16 17 	DB	14H,15H,16H,17H,18H,19H,1AH
  968 118D  1B 1C 1D 1E 	DB	1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()*+,-'
  969 11A0  2E 2F 30 31 	DB	'./0123456789:;<=>?@ABCDEFGHIJKLMNO'
  970 11C2  50 51 52 53 	DB	'PQRSTUVWXYZ[',5CH,']^_`abcdefghijklmnopq'
  971 11E4  72 73 74 75 	DB	'rstuvwxyz{|}~',7FH,80H,1,82H
  972 11F5  03 04 05 86 	DB	3,4,5,86H,87H,8,9,0AH,0BH,0CH
  973 11FF  0D 0E 8F 10 	DB	0DH,0EH,8FH,10H,91H,92H,93H
  974 1206  14 15 96 97 	DB	14H,15H,96H,97H,18H,19H,1AH
  975 120D  1B 1C 9D 1E 	DB	1BH,1CH,9DH,1EH,9FH,' 123456789'
  976 121C  AA 30 2D AD 	DB	0AAH,'0-',0ADH,'.',8BH,'0123456789'
  977 122C  BA 30 2D BD 	DB	0BAH,'0-',0BDH,'.',83H,12H,86H
  978 1234  C2 C3 C4 05 	DB	0C2H,0C3H,0C4H,5,82H,0C7H,8,0C9H
  979 123C  0A 84 85 CD 	DB	0AH,84H,85H,0CDH,0CEH,0CFH,81H
  980 1243  D1 87 D3 D4 	DB	0D1H,87H,0D3H,0D4H,0D5H,80H,0D7H
  981 124A  18 D9 1A DB 	DB	18H,0D9H,1AH,0DBH,0DCH,0DDH,0DEH
  982 1251  30 E0 8E E2 	DB	'0',0E0H,8EH,0E2H,0E3H,0E4H,0E5H
  983 1258  8A E7 E8 E9 	DB	8AH,0E7H,0E8H,0E9H,0EAH,8CH,8DH
  984 125F  ED EE EF 89 	DB	0EDH,0EEH,0EFH,89H,0F1H,8FH,0F3H
  985 1266  F4 F5 88 F7 	DB	0F4H,0F5H,88H,0F7H,0F8H,0F9H,0FAH
  986 126D  FB FC FD FE 	DB	0FBH,0FCH,0FDH,0FEH,7FH

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  18
CONFI   Z80

  987 1272              KBSWEDISH:	
  988 1272  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
  989 127E  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
  990 1285  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
  991 128C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
  992 129C  2A 2B 2C 2D 	DB	'*+,-./0123456789:;<=>?',0AH
  993 12B3  41 42 43 44 	DB	'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
  994 12CD  06 0E 5D 00 	DB	6,0EH,']',0,'_',1AH,'abcdefghijklmn'
  995 12E1  6F 70 71 72 	DB	'opqrstuvwxyz`~}@',7FH,0,1
  996 12F4  02 03 04 05 	DB	2,3,4,5,6,7,8,9,0AH,0BH,0CH
  997 12FF  0D 0E 0F 10 	DB	0DH,0EH,0FH,10H,11H,12H,13H
  998 1306  14 15 16 17 	DB	14H,15H,16H,17H,18H,19H,1AH
  999 130D  1B 1C 1D 1E 	DB	1BH,1CH,1DH,1EH,1FH,' !"#$%&/()*^,+'
 1000 1320  2E 2D 30 31 	DB	'.-0123456789',27H,'~;?:_<ABCDEFGHIJKLMNO'
 1001 1342  50 51 52 53 	DB	'PQRSTUVWXYZ',5CH,'[]`=>abcdefghijklmnopq'
 1002 1364  72 73 74 75 	DB	'rstuvwxyz|{}@',7FH,80H,1,82H
 1003 1375  03 04 05 86 	DB	3,4,5,86H,87H,8,9,0AH,0BH,0CH
 1004 137F  0D 0E 8F 10 	DB	0DH,0EH,8FH,10H,91H,92H,93H
 1005 1386  14 15 96 97 	DB	14H,15H,96H,97H,18H,19H,1AH
 1006 138D  1B 1C 9D 1E 	DB	1BH,1CH,9DH,1EH,9FH,' 123456789'
 1007 139C  AA 30 2D AD 	DB	0AAH,'0-',0ADH,'.',8BH,'0123456789'
 1008 13AC  BA 30 2D BD 	DB	0BAH,'0-',0BDH,'.',83H,12H,86H
 1009 13B4  C2 C3 C4 05 	DB	0C2H,0C3H,0C4H,5,82H,0C7H,8,0C9H
 1010 13BC  0A 84 85 CD 	DB	0AH,84H,85H,0CDH,0CEH,0CFH,81H
 1011 13C3  D1 87 D3 D4 	DB	0D1H,87H,0D3H,0D4H,0D5H,80H,0D7H
 1012 13CA  18 D9 1A DB 	DB	18H,0D9H,1AH,0DBH,0DCH,0DDH,0DEH
 1013 13D1  30 E0 8E E2 	DB	'0',0E0H,8EH,0E2H,0E3H,0E4H,0E5H
 1014 13D8  8A E7 E8 E9 	DB	8AH,0E7H,0E8H,0E9H,0EAH,8CH,8DH
 1015 13DF  ED EE EF 89 	DB	0EDH,0EEH,0EFH,89H,0F1H,8FH,0F3H
 1016 13E6  F4 F5 88 F7 	DB	0F4H,0F5H,88H,0F7H,0F8H,0F9H,0FAH
 1017 13ED  FB FC FD FE 	DB	0FBH,0FCH,0FDH,0FEH,7FH
 1018 13F2              KBGERMAN:	
 1019 13F2  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1020 13FE  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1021 1405  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1022 140C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
 1023 141C  2A 2B 2C 2D 	DB	'*+,-./0123456789:;<=>?',13H
 1024 1433  41 42 43 44 	DB	'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
 1025 144D  06 0E 00 5E 	DB	6,0EH,0,'^_',16H,'abcdefghijklmnopq'
 1026 1464  72 73 74 75 	DB	'rstuvwxyz`~@',11H,7FH,0,1
 1027 1474  02 03 04 05 	DB	2,3,4,5,6,7,8,9,0AH,0BH,0CH
 1028 147F  0D 0E 0F 10 	DB	0DH,0EH,0FH,10H,11H,12H,13H
 1029 1486  14 15 16 17 	DB	14H,15H,16H,17H,18H,1AH,19H
 1030 148D  1B 1C 1D 1E 	DB	1BH,1CH,1DH,1EH,1FH,' !"@$%&/()^*,~'
 1031 14A0  2E 2D 30 31 	DB	'.-0123456789#+;?:_<ABCDEFGHIJKLMNO'
 1032 14C2  50 51 52 53 	DB	'PQRSTUVWXZY',5CH,'[]',27H,'=>abcdefghijklmnopq'
 1033 14E4  72 73 74 75 	DB	'rstuvwxzy|{}`',7FH,80H,1,82H
 1034 14F5  03 04 05 86 	DB	3,4,5,86H,87H,8,9,0AH,0BH,0CH
 1035 14FF  0D 0E 8F 10 	DB	0DH,0EH,8FH,10H,91H,92H,93H
 1036 1506  14 15 96 97 	DB	14H,15H,96H,97H,18H,19H,1AH
 1037 150D  1B 9C 9D 1E 	DB	1BH,9CH,9DH,1EH,9FH,' 123456789'
 1038 151C  AA 30 2D AD 	DB	0AAH,'0-',0ADH,'.',8BH,'0123456789'
 1039 152C  BA 30 2D BD 	DB	0BAH,'0-',0BDH,'.',83H,12H,86H
 1040 1534  C2 C3 C4 05 	DB	0C2H,0C3H,0C4H,5,82H,0C7H,8,0C9H
 1041 153C  0A 84 85 CD 	DB	0AH,84H,85H,0CDH,0CEH,0CFH,81H
 1042 1543  D1 87 D3 D4 	DB	0D1H,87H,0D3H,0D4H,0D5H,80H,0D7H
 1043 154A  18 D9 1A DB 	DB	18H,0D9H,1AH,0DBH,0DCH,0DDH,0DEH
 1044 1551  30 E0 8E E2 	DB	'0',0E0H,8EH,0E2H,0E3H,0E4H,0E5H

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  19
CONFI   Z80

 1045 1558  8A E7 E8 E9 	DB	8AH,0E7H,0E8H,0E9H,0EAH,8CH,8DH
 1046 155F  ED EE EF 89 	DB	0EDH,0EEH,0EFH,89H,0F1H,8FH,0F3H
 1047 1566  F4 F5 88 F7 	DB	0F4H,0F5H,88H,0F7H,0F8H,0F9H,0FAH
 1048 156D  FB FC FD FE 	DB	0FBH,0FCH,0FDH,0FEH,7FH
 1049 1572              KBUK:	
 1050 1572  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1051 157E  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1052 1585  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1053 158C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"'
 1054 1595  03 24 25 26 	DB	3,'$%&',27H,'()*+,-./0123456789:;<=>?'
 1055 15B2  05 41 42 43 	DB	5,'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
 1056 15CD  0B 0C 0D 5E 	DB	0BH,0CH,0DH,'^_',16H,'abcdefghijklm'
 1057 15E0  6E 6F 70 71 	DB	'nopqrstuvwxyz',1BH,1CH,1DH
 1058 15F0  0F 7F 00 01 	DB	0FH,7FH,0,1,2,3,4,5,6,7,8,9
 1059 15FC  0A 0B 0C 0D 	DB	0AH,0BH,0CH,0DH,0EH,0FH,10H
 1060 1603  11 12 13 14 	DB	11H,12H,13H,14H,15H,16H,17H
 1061 160A  18 19 1A 1B 	DB	18H,19H,1AH,1BH,1CH,1DH,1EH
 1062 1611  1F 20 21 22 	DB	1FH,' !"#$%&',27H,'()*+,-./0123456789:;<='
 1063 1630  3E 3F 40 41 	DB	'>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[',5CH,']^_'
 1064 1652  60 61 62 63 	DB	'`abcdefghijklmnopqrstuvwxyz{|}~'
 1065 1671  7F 80 01 82 	DB	7FH,80H,1,82H,3,4,5,86H,87H
 1066 167A  08 09 0A 0B 	DB	8,9,0AH,0BH,0CH,0DH,0EH,8FH
 1067 1682  10 91 92 93 	DB	10H,91H,92H,93H,14H,15H,96H
 1068 1689  97 18 19 1A 	DB	97H,18H,19H,1AH,1BH,1CH,9DH
 1069 1690  1D 9F 20 31 	DB	1DH,9FH,' 123456789',0AAH,'0-'
 1070 169F  AD 2E 8B 30 	DB	0ADH,'.',8BH,'0123456789',0BAH
 1071 16AD  30 2D BD 2E 	DB	'0-',0BDH,'.',83H,12H,86H,0C2H
 1072 16B5  C3 C4 05 82 	DB	0C3H,0C4H,5,82H,0C7H,8,0C9H,0AH
 1073 16BD  84 85 CD CE 	DB	84H,85H,0CDH,0CEH,0CFH,81H,0D1H
 1074 16C4  87 D3 D4 D5 	DB	87H,0D3H,0D4H,0D5H,80H,0D7H,18H
 1075 16CB  D9 1A DB DC 	DB	0D9H,1AH,0DBH,0DCH,0DDH,0DEH,'0'
 1076 16D2  E0 8E E2 E3 	DB	0E0H,8EH,0E2H,0E3H,0E4H,0E5H,8AH
 1077 16D9  E7 E8 E9 EA 	DB	0E7H,0E8H,0E9H,0EAH,8CH,8DH,0EDH
 1078 16E0  EE EF 89 F1 	DB	0EEH,0EFH,89H,0F1H,8FH,0F3H,0F4H
 1079 16E7  F5 88 F7 F8 	DB	0F5H,88H,0F7H,0F8H,0F9H,0FAH,0FBH
 1080 16EE  FC FD FE 7F 	DB	0FCH,0FDH,0FEH,7FH
 1081 16F2              KBUSWS:	
 1082 16F2  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1083 16FE  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1084 1705  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1085 170C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
 1086 171C  2A 2B 2C 2D 	DB	'*+,-./0123456789:;<=>?',5
 1087 1733  41 42 43 44 	DB	'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
 1088 174D  0B 0C 0D 5E 	DB	0BH,0CH,0DH,'^_',16H,'abcdefghijklm'
 1089 1760  6E 6F 70 71 	DB	'nopqrstuvwxyz',1BH,1CH,1DH
 1090 1770  0F 7F 00 01 	DB	0FH,7FH,0,1,2,3,4,5,6,7,8,9
 1091 177C  0A 0B 0C 0D 	DB	0AH,0BH,0CH,0DH,0EH,0FH,10H
 1092 1783  11 12 13 14 	DB	11H,12H,13H,14H,15H,16H,17H
 1093 178A  18 19 1A 1B 	DB	18H,19H,1AH,1BH,1CH,1DH,1EH
 1094 1791  1F 20 21 22 	DB	1FH,' !"#$%&',27H,'()*+,-./0123456789:;<='
 1095 17B0  3E 3F 40 41 	DB	'>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[',5CH,']^_'
 1096 17D2  60 61 62 63 	DB	'`abcdefghijklmnopqrstuvwxyz{|}~'
 1097 17F1  7F 80 01 82 	DB	7FH,80H,1,82H,3,4,5,86H,87H
 1098 17FA  13 09 18 0B 	DB	13H,9,18H,0BH,0CH,0DH,0EH,8FH
 1099 1802  10 91 92 93 	DB	10H,91H,92H,93H,14H,15H,96H
 1100 1809  97 04 19 05 	DB	97H,4,19H,5,1BH,1CH,9DH,1EH
 1101 1811  9F 20 31 32 	DB	9FH,' 123456789',0AAH,'0-',0ADH
 1102 1820  2E 8B 30 31 	DB	'.',8BH,'0123456789',0BAH,'0-'

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  20
CONFI   Z80

 1103 182F  BD 2E 83 12 	DB	0BDH,'.',83H,12H,86H,0C2H,0C3H
 1104 1836  C4 05 82 C7 	DB	0C4H,5,82H,0C7H,8,9,0AH,84H,85H
 1105 183F  CD CE CF 81 	DB	0CDH,0CEH,0CFH,81H,0D1H,87H,0D3H
 1106 1846  D4 D5 80 D7 	DB	0D4H,0D5H,80H,0D7H,18H,0D9H,1AH
 1107 184D  DB DC DD DE 	DB	0DBH,0DCH,0DDH,0DEH,'0',0E0H,8EH
 1108 1854  E2 E3 E4 E5 	DB	0E2H,0E3H,0E4H,0E5H,8AH,0E7H,0E8H
 1109 185B  E9 EA 8C 8D 	DB	0E9H,0EAH,8CH,8DH,0EDH,0EEH,0EFH
 1110 1862  89 F1 8F F3 	DB	89H,0F1H,8FH,0F3H,0F4H,0F5H,88H
 1111 1869  F7 F8 F9 FA 	DB	0F7H,0F8H,0F9H,0FAH,0FBH,0FCH,0FDH
 1112 1870  FE 7F       	DB	0FEH,7FH
 1113 1872              KBFRENCH:	
 1114 1872  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1115 187E  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1116 1885  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1117 188C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
 1118 189C  2A 2B 2C 2D 	DB	'*+,-./0123456789:;<=>?',5
 1119 18B3  41 42 43 44 	DB	'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
 1120 18CD  0B 0C 0D 5E 	DB	0BH,0CH,0DH,'^_',16H,'abcdefghijklm'
 1121 18E0  6E 6F 70 71 	DB	'nopqrstuvwxyz',1BH,1CH,1DH
 1122 18F0  0F 7F 00 11 	DB	0FH,7FH,0,11H,2,3,4,5,6,7,8
 1123 18FB  09 0A 0B 0C 	DB	9,0AH,0BH,0CH,0DH,0EH,0FH,10H
 1124 1903  01 12 13 14 	DB	1,12H,13H,14H,15H,16H,1AH,18H
 1125 190B  19 17 1B 1C 	DB	19H,17H,1BH,1CH,1DH,1EH,1FH
 1126 1912  20 21 22 23 	DB	' !"#$%&',27H,'()*+,-./0123456789:;<=>?@Q'
 1127 1934  42 43 44 45 	DB	'BCDEFGHIJKL[NOPARSTUVZXYWM',5CH,']^_`qbc'
 1128 1956  64 65 66 67 	DB	'defghijkl{noparstuvzxywm|}~'
 1129 1971  7F 80 01 82 	DB	7FH,80H,1,82H,3,4,5,86H,87H
 1130 197A  08 09 0A 0B 	DB	8,9,0AH,0BH,0CH,0DH,0EH,8FH
 1131 1982  10 91 92 93 	DB	10H,91H,92H,93H,14H,15H,96H
 1132 1989  97 18 19 1A 	DB	97H,18H,19H,1AH,1BH,1CH,9DH
 1133 1990  1E 9F 20 31 	DB	1EH,9FH,' 123456789',0AAH,'0-'
 1134 199F  AD 2E 8B 30 	DB	0ADH,'.',8BH,'0123456789',0BAH
 1135 19AD  30 2D BD 2E 	DB	'0-',0BDH,'.',83H,12H,86H,0C2H
 1136 19B5  C3 C4 05 82 	DB	0C3H,0C4H,5,82H,0C7H,8,0C9H,0AH
 1137 19BD  84 85 CD CE 	DB	84H,85H,0CDH,0CEH,0CFH,81H,0D1H
 1138 19C4  87 D3 D4 D5 	DB	87H,0D3H,0D4H,0D5H,80H,0D7H,18H
 1139 19CB  D9 1A DB DC 	DB	0D9H,1AH,0DBH,0DCH,0DDH,0DEH,'0'
 1140 19D2  E0 8E E2 E3 	DB	0E0H,8EH,0E2H,0E3H,0E4H,0E5H,8AH
 1141 19D9  E7 E8 E9 EA 	DB	0E7H,0E8H,0E9H,0EAH,8CH,8DH,0EDH
 1142 19E0  EE EF 89 F1 	DB	0EEH,0EFH,89H,0F1H,8FH,0F3H,0F4H
 1143 19E7  F5 88 F7 F8 	DB	0F5H,88H,0F7H,0F8H,0F9H,0FAH,0FBH
 1144 19EE  FC FD FE 7F 	DB	0FCH,0FDH,0FEH,7FH
 1145 19F2              KBLIBRARY:	
 1146 19F2  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1147 19FE  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1148 1A05  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1149 1A0C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#'
 1150 1A16  04 25 26 27 	DB	4,'%&',27H,'()*+,-./0123456789:;'
 1151 1A2E  0B 3D 0D 3F 	DB	0BH,'=',0DH,'?',5,'ABCDEFGHIJKLMNOP'
 1152 1A43  51 52 53 54 	DB	'QRSTUVWXYZ[',5CH,']^_',16H,'abcdefghijkl'
 1153 1A5F  6D 6E 6F 70 	DB	'mnopqrstuvwxyz{|}',10H,7FH
 1154 1A72  00 01 02 03 	DB	0,1,2,3,4,5,6,7,8,9,0AH,0BH
 1155 1A7E  0C 0D 0E 0F 	DB	0CH,0DH,0EH,0FH,10H,11H,12H
 1156 1A85  13 14 15 16 	DB	13H,14H,15H,16H,17H,18H,19H
 1157 1A8C  1A 1B 1C 1D 	DB	1AH,1BH,1CH,1DH,1EH,1FH,' !"#$%&',27H,'()'
 1158 1A9C  5E 7E 2C 2B 	DB	'^~,+.-0123456789*/;?:_<ABCDEFGHIJK'
 1159 1ABE  4C 4D 4E 4F 	DB	'LMNOPQRSTUVWXYZ[',5CH,']@=>abcdefghijklm'
 1160 1AE0  6E 6F 70 71 	DB	'nopqrstuvwxyz{|}`',7FH,80H

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  21
CONFI   Z80

 1161 1AF3  1D 82 0C 12 	DB	1DH,82H,0CH,12H,5,86H,87H,8
 1162 1AFB  09 0A 15 0C 	DB	9,0AH,15H,0CH,0DH,13H,8FH,10H
 1163 1B03  91 92 93 94 	DB	91H,92H,93H,94H,95H,96H,97H
 1164 1B0A  18 99 1A 1B 	DB	18H,99H,1AH,1BH,9CH,9DH,9EH
 1165 1B11  9F 20 31 32 	DB	9FH,' 123456789',0AAH,'0-',0ADH
 1166 1B20  2E 8B 30 31 	DB	'.',8BH,'0123456789',0BAH,'0-'
 1167 1B2F  BD 2E 83 C0 	DB	0BDH,'.',83H,0C0H,86H,0C2H,0C3H
 1168 1B36  C4 C5 82 C7 	DB	0C4H,0C5H,82H,0C7H,0C8H,0C9H,0CAH
 1169 1B3D  84 85 CD CE 	DB	84H,85H,0CDH,0CEH,0CFH,81H,0D1H
 1170 1B44  87 D3 D4 D5 	DB	87H,0D3H,0D4H,0D5H,80H,0D7H,0D8H
 1171 1B4B  D9 DA DB DC 	DB	0D9H,0DAH,0DBH,0DCH,0DDH,0DEH,'0'
 1172 1B52  E0 8E E2 E3 	DB	0E0H,8EH,0E2H,0E3H,0E4H,0E5H,8AH
 1173 1B59  E7 E8 E9 EA 	DB	0E7H,0E8H,0E9H,0EAH,8CH,8DH,0EDH
 1174 1B60  EE EF 89 F1 	DB	0EEH,0EFH,89H,0F1H,8FH,0F3H,0F4H
 1175 1B67  F5 88 F7 F8 	DB	0F5H,88H,0F7H,0F8H,0F9H,0FAH,0FBH
 1176 1B6E  FC FD FE 7F 	DB	0FCH,0FDH,0FEH,7FH,80H,1DH,82H
 1177 1B75  0C 12 05 86 	DB	0CH,12H,5,86H,87H,8,9,0AH
 1178                   
 1179                   ; PADDING TO MAKE BINARY EQUIVALENT WITH ORIGINAL.
 1180 1B7D  1A 1A 1A    	DB	1AH, 1AH, 1AH
 1181                   	END
 0 Error(s) Detected.
 6784 Absolute Bytes. 137 Symbols Detected.

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  22
Symbol Table:

065C  BADCHOICE        06D6  BADSECTOR        0748  BADSECTORMSG
0351  BAUDRATE         0AC1  BAUDRATEMSG      0C72  BITS2SENDMSG
0E72  CBBLOCK1         0F72  CBBLOCK3         0FF2  CBBLOCK4
0E9A  CBCURSOR         0EF2  CBKB             0E9B  CBLANGUAGE
0E89  CBPREG3          0E87  CBPREG4          0E8B  CBPREG5
0E83  CBPRINT          0E75  CBPRINTBAUD      0E9F  CBSTOPTIME
0E7A  CBTERM           0E73  CBTERMBAUD       0E7E  CBTREG3
0E7C  CBTREG4          0E80  CBTREG5          0E92  CBVIDEO1
0E93  CBVIDEO2         0E94  CBVIDEO3         0E95  CBVIDEO4
0E9E  CBXB4Y           03A4  CHARSIZE         04ED  CHECKRWRES
0DD7  CHOICEMSG        066D  CMDLEN           066E  CMDNUMBER
066B  CMDPTR           0E9D  CURPRINTBAUD     0D9A  CURSADDRMSG
0900  CURSFORMMSG      06CC  CURSORBCKWRD     0455  CURSORFORM
0D4C  CURSORMSG        043D  CURSORSETUP      049C  CURSXB4Y
0E9C  CURTERMBAUD      0719  DISKACMSG        0237  DISKOK
057C  DONEHD           0E5B  DRIVE            05E9  GETCHOICE
05A2  HLDIB50C         0594  HLDIV50          0C5C  ILLEGALMSG
0670  JUMPJPTABLE      10F2  KBDANISH         1872  KBFRENCH
13F2  KBGERMAN         19F2  KBLIBRARY        0418  KBLOOP1
042F  KBLOOP2          0987  KBMSG            03FF  KBSETUP
1272  KBSWEDISH        1572  KBUK             16F2  KBUSWS
03C9  L02CC            03F3  L02F6            059A  L049D
0E5C  L0D5F            0E67  L0D6A            0243  LEAVE
025F  MAINMENU         05E4  MENU             062F  MENUCHECKCMD
0756  MENUMSG          060B  MENUNEXTCH       050C  MINISYSTEM
0420  MOVEKBCONFIG     0437  MOVEKBMEMORY     0584  MULT10HL
058B  MULT50HL         02F4  PARITY           0A78  PARITYMSG
0332  PRINTBAUDRAT     06A2  PRINTBDOS        06AD  PRINTBIOS
0647  PRINTCRLF        0BC4  PRINTERMSG       05C3  PRINTHL2
05CB  PRINTHL3         05D3  PRINTHL4         05A4  PRINTHLDEC
05C1  PRINTHLDIVDE     0679  PRINTMENU        067C  PRINTNEXTHL
02EE  PRINTPARITY      069E  PRINTPLAINCH     03AB  PRINTRECSIZE
039E  PRINTSENDSIZ     029D  PRINTSETUP       069C  PRINTSPACE
02C1  PRINTSTOPBIT     04F3  READCB           051F  READCBBLOCKS
0518  READDRIVEC       0664  READLINEBUF      0666  READLINECH1
0665  READLINELEN      03D7  RECSIZE          0CE3  RECSIZEMSG
04EA  RSECTOR          04DF  RWSECTOR         04D9  SAVECB
03AC  SENDSIZE         0328  SETCTC0          0347  SETCTC1
06B4  SETCURSORPOS     0426  SETKBMEMORY      0372  SETSIOA
037E  SETSIOB          050E  SETTRACK0FOR     047B  SETVIDEO
1072  STACK            06D5  STARREDCMD       0200  START
02C7  STOPBIT          0A25  STOPBITSMSG      04B3  STOPTIME
0DE3  STOPTIME1MSG     0E23  STOPTIME2MSG     0313  TERMBAUDRATE
0806  TERMMSG          02E8  TERMPARITY       0397  TERMRECSIZE
038A  TERMSENDSIZE     027F  TERMSETUP        02BB  TERMSTOPBIT
06E1  WELCOMEMSG       020D  WHICHDISK

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  23
Cross Reference:

065C  BADCHOICE          633   638   657
06D6  BADSECTOR          444   742
0748  BADSECTORMSG       743   753
0351  BAUDRATE           164   181   196
0AC1  BAUDRATEMSG        199   811
0C72  BITS2SENDMSG       262   840
0E72  CBBLOCK1           477   886
0F72  CBBLOCK3           489   887
0FF2  CBBLOCK4           496   888
0E9A  CBCURSOR           363   370   929
0EF2  CBKB               334   482   953
0E9B  CBLANGUAGE         320   325   338   931
0E89  CBPREG3            911
0E87  CBPREG4            109   139   185   188   909
0E8B  CBPREG5            246   913
0E83  CBPRINT            227   907
0E75  CBPRINTBAUD        184   193   893
0E9F  CBSTOPTIME         418   428   939
0E7A  CBTERM             219   897
0E73  CBTERMBAUD         167   176   891
0E7E  CBTREG3            242   901
0E7C  CBTREG4            106   136   168   171   899
0E80  CBTREG5            235   903
0E92  CBVIDEO1           387   918
0E93  CBVIDEO2           389   920
0E94  CBVIDEO3           391   922
0E95  CBVIDEO4           377   380   393   924
0E9E  CBXB4Y             403   408   937
03A4  CHARSIZE           248
04ED  CHECKRWRES         439   442
0DD7  CHOICEMSG          594   867
066D  CMDLEN             603   609   612   669
066E  CMDNUMBER          597   617   623   626   671
066B  CMDPTR             607   613   616   667
0E9D  CURPRINTBAUD       180   935
0D9A  CURSADDRMSG        402   862
0900  CURSFORMMSG        362   778
06CC  CURSORBCKWRD       728   734
0455  CURSORFORM         359   361
0D4C  CURSORMSG          351   856
043D  CURSORSETUP         74   350   356
049C  CURSXB4Y           360   401
0E9C  CURTERMBAUD        163   933
0719  DISKACMSG           23   750
0237  DISKOK              38    41
057C  DONEHD             504   511
0E5B  DRIVE               43   448   502   878
05E9  GETCHOICE          593   660
05A2  HLDIB50C           539   542
0594  HLDIV50            419   532
0C5C  ILLEGALMSG         658   837
0670  JUMPJPTABLE         70    85    99   358   673
10F2  KBDANISH            17   326   339   957
1872  KBFRENCH          1113
13F2  KBGERMAN          1018
19F2  KBLIBRARY         1145
0418  KBLOOP1            328   332
042F  KBLOOP2            341   345

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  24
Cross Reference:

0987  KBMSG              319   787
03FF  KBSETUP             73   318
1272  KBSWEDISH          987
1572  KBUK              1049
16F2  KBUSWS            1081
03C9  L02CC              270   273
03F3  L02F6              300   303
059A  L049D              535   541
0E5C  L0D5F              211   880
0E67  L0D6A              208   883
0243  LEAVE               47
025F  MAINMENU            46    62    68
05E4  MENU                66    81    95   121   149   202   265   295   323
			  354   366   406   424   589
062F  MENUCHECKCMD       611   625
0756  MENUMSG             63   755
060B  MENUNEXTCH         608   624
050C  MINISYSTEM         458   461
0420  MOVEKBCONFIG       330   333
0437  MOVEKBMEMORY       343   346
0584  MULT10HL           516   525   618
058B  MULT50HL           426   524
02F4  PARITY             137   140   141
0A78  PARITYMSG          146   805
0332  PRINTBAUDRAT       102   179
06A2  PRINTBDOS          706
06AD  PRINTBIOS          705   714
0647  PRINTCRLF          605   643
0BC4  PRINTERMSG          92   828
05C3  PRINTHL2           558   563
05CB  PRINTHL3           561   564
05D3  PRINTHL4           568   570
05A4  PRINTHLDEC         420   545
05C1  PRINTHLDIVDE       548   550   552   554   556
0679  PRINTMENU          417   592   595   659   683
067C  PRINTNEXTHL        685   713   718
02EE  PRINTPARITY        101   138
069E  PRINTPLAINCH       692   700   703
03AB  PRINTRECSIZE       104   253
039E  PRINTSENDSIZ       103   245
029D  PRINTSETUP          71    91    97
069C  PRINTSPACE         697   701
02C1  PRINTSTOPBIT       100   108
04F3  READCB              45   432   446
051F  READCBBLOCKS       467   472
0518  READDRIVEC         450   468
0664  READLINEBUF         27   599   661
0666  READLINECH1         32   665   668
0665  READLINELEN         29   601   663
03D7  RECSIZE            243   286
0CE3  RECSIZEMSG         292   848
04EA  RSECTOR            436   440
04DF  RWSECTOR           434   481   488   495   501
04D9  SAVECB              76   430
03AC  SENDSIZE           236   247   255
0328  SETCTC0             54   173
0347  SETCTC1             56   190
06B4  SETCURSORPOS       690   719

Z80ASM SuperFast Relocating Macro Assembler     	    Z80ASM 1.32 Page  25
Cross Reference:

0426  SETKBMEMORY         51   337
0372  SETSIOA             53   218
037E  SETSIOB             55   226
050E  SETTRACK0FOR       460   463
047B  SETVIDEO            52   382
1072  STACK              955
06D5  STARREDCMD         684   693   695   699   740
0200  START               15
02C7  STOPBIT            107   110   111
0A25  STOPBITSMSG        118   798
04B3  STOPTIME            75   415
0DE3  STOPTIME1MSG       416   869
0E23  STOPTIME2MSG       421   874
0313  TERMBAUDRATE        88   162
0806  TERMMSG             78   765
02E8  TERMPARITY          87   135
0397  TERMRECSIZE         90   241
038A  TERMSENDSIZE        89   234
027F  TERMSETUP           72    77    83
02BB  TERMSTOPBIT         86   105
06E1  WELCOMEMSG          19   747
020D  WHICHDISK           22    31    40

