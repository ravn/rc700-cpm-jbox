NOSYSTEMFILES:		;7000 
	LD	BC,DSPSTR	;7800H
	LD	DE,ERMES3	;707DH
	LD	HL,t0014	;14H
	CALL	COPYSTR	;7068H
	JP	ALOOP	;73DAH
NOKATALOG:		;700F 
	LD	BC,DSPSTR	;7800H
	LD	DE,ERMESX	;70B0H
	LD	HL,t000F	;0FH
	CALL	COPYSTR	;7068H
	JP	ALOOP	;73DAH
NODISKETTENORLINEPROG:		;701E 
	LD	BC,DSPSTR	;7800H
	LD	DE,ERMES1	;7092H
	LD	HL,t001D	;1DH
	CALL	COPYSTR	;7068H
	JP	ALOOP	;73DAH
CHKSYSMC:		;702D 
	PUSH	HL
	INC	HL
	EX	DE,HL
	LD	BC,SYSM	;70C3H
	LD	HL,t0004	;4
	CALL	COMSTR	;705CH
	POP	HL
	JP	Z,CHKSYSDIR	;704FH
	RET
c703E:		;703E 
	PUSH	HL
	INC	HL
	EX	DE,HL
	LD	BC,SYSC	;70C8H
	LD	HL,t0004	;4
	CALL	COMSTR	;705CH
	POP	HL
	JP	Z,CHKSYSDIR	;704FH
	RET
CHKSYSDIR:		;704F 
	PUSH	HL
	INC	HL
	LD	DE,t0007	;7
	ADD	HL,DE
	LD	A,(HL)
	AND	'?'	;3FH
	CP	13H
	POP	HL
	RET
COMSTR:		;705C 
	LD	A,(DE)
	LD	H,A
	LD	A,(BC)
	CP	H
	RET	NZ
	INC	DE
	INC	BC
	DEC	L
	JP	NZ,COMSTR	;705CH
	RET
COPYSTR:		;7068 
	LD	A,(DE)
	LD	(BC),A
	INC	BC
	INC	DE
	DEC	L
	JP	NZ,COPYSTR	;7068H
	RET
RC700STR:		;7071 
	DB	' RC700'
RC702STR:		;7077 
	DB	' RC702'
ERMES3:		;707D 
	DB	' '
	DB	'**NO SYSTEM FILES** '
ERMES1:		;7092 
	DB	' **NO DISKETTE NOR LINEPROG** '
ERMESX:		;70B0 
	DB	' **NO KATALOG** '
	db	2,0C3H,0C8H
SYSM:		;70C3 
	DB	'SYSM '
SYSC:		;70C8 
	DB	'SYSC '
	JP	XSETDMA	;7362H
AUTOPROM:		;70D0 
	LD	SP,STACK	;0BFFFH
	LD	A,73H
	LD	I,A
	IM	2
	LD	C,0FFH
	LD	B,1
	CALL	DELAYBC	;76B1H
	LD	A,99H
	CALL	INITPIO	;70E9H
	LD	HL,t0027	;27H
	JP	(HL)
INITPIO:		;70E9 
	PUSH	AF
	LD	A,2
	OUT	(12H),A
	LD	A,4
	OUT	(13H),A
	LD	A,'O'	;4FH
	OUT	(12H),A
	LD	A,0FH
	OUT	(13H),A
	LD	A,83H
	OUT	(12H),A
	OUT	(13H),A
	JP	INITCTC	;7103H
INITCTC:		;7103 
	LD	A,8
	OUT	(0CH),A
	POP	AF
	LD	A,'F'	;46H
	OR	'A'	;41H
	OUT	(0CH),A
	LD	A,' '	;20H
	OUT	(0CH),A
	LD	A,'F'	;46H
	OR	'A'	;41H
	OUT	(0DH),A
	LD	A,' '	;20H
	OUT	(0DH),A
	LD	A,0D7H
	OUT	(0EH),A
	LD	A,1
	OUT	(0EH),A
	LD	A,0D7H
	OUT	(0FH),A
	LD	A,1
	OUT	(0FH),A
	JP	INITDMA	;712FH
INITDMA:		;712F 
	LD	A,' '	;20H
	OUT	(0F8H),A
	LD	A,0C0H
	OUT	(0FBH),A
	LD	A,0
	OUT	(0FAH),A
	LD	A,'J'	;4AH
	OUT	(0FBH),A
	LD	A,'K'	;4BH
	OUT	(0FBH),A
	JP	INIT8275	;7146H
INIT8275:		;7146 
	LD	A,0
	OUT	(1),A
	LD	A,'O'	;4FH
	OUT	(0),A
	LD	A,98H
	OUT	(0),A
	LD	A,9AH
	OUT	(0),A
	LD	A,5DH
	OUT	(0),A
	LD	A,80H
	OUT	(1),A
	XOR	A
	OUT	(0),A
	OUT	(0),A
	LD	A,0E0H
	OUT	(1),A
	JP	INITFDC1	;716EH
FDCINITDATA:		;716A 
	dw	y0303	;0303H
	dw	y204F	;204FH
INITFDC1:		;716E 
	LD	C,0FFH
	LD	B,1
	CALL	DELAYBC	;76B1H
	IN	A,(4)
	AND	1FH
	JP	NZ,INITFDC1	;716EH
	LD	HL,FDCINITDATA	;716AH
	LD	B,(HL)
INITFDC2:		;7180 
	INC	HL
INITFDC3:		;7181 
	IN	A,(4)
	AND	0C0H
	CP	80H
	JP	NZ,INITFDC3	;7181H
	LD	A,(HL)
	OUT	(5),A
	DEC	B
	JP	NZ,INITFDC2	;7180H
	JP	FILL2000	;7194H
FILL2000:		;7194 
	LD	HL,t0000	;0
	EX	DE,HL
FILL2000CH:		;7198 
	LD	HL,DSPSTR	;7800H
	ADD	HL,DE
	LD	A,' '	;20H
	LD	(HL),A
	LD	A,E
	CP	0CFH
	JP	Z,FILL2000DONE	;71A9H
	INC	DE
	JP	FILL2000CH	;7198H
FILL2000DONE:		;71A9 
	LD	A,D
	CP	7
	JP	Z,SHOWRC700STR	;71B3H
	INC	DE
	JP	FILL2000CH	;7198H
SHOWRC700STR:		;71B3 
	LD	DE,RC700STR	;7071H
	LD	HL,t0006	;6
	LD	BC,DSPSTR	;7800H
	CALL	COPYSTR	;7068H
	LD	HL,t0000	;0
	LD	(w7FD2),HL	;7FD2H
	LD	(w7FD9),HL	;7FD9H
	LD	(w7FE4),HL	;7FE4H
	LD	(w7FE2),HL	;7FE2H
	LD	(w7FE0),HL	;7FE0H
	LD	(w7FD7),HL	;7FD7H
	LD	(w7FDE),HL	;7FDEH
	LD	(w7FD5),HL	;7FD5H
	LD	HL,t0780	;0780H
	LD	(w7FDB),HL	;7FDBH
	LD	A,0
	LD	(b7FD1),A	;7FD1H
	LD	(b7FD4),A	;7FD4H
	LD	(b7FDD),A	;7FDDH
	LD	(b7FE6),A	;7FE6H
STARTDISPLAY:		;71EE 
	LD	A,'#'	;23H
	OUT	(1),A
	RET
PREPLEAVEPROM:		;71F3 
	XOR	A
	LD	(FLPNEWCYL),A	;8032H
	INC	A
	LD	(FLPHEAD),A	;8033H
	LD	(SAVEDC),A	;8034H
	CALL	c74CB	;74CBH
	JP	C,j720B	;720BH
	LD	HL,TESTFLAG	;7320H
	LD	A,2
	OR	(HL)
	LD	(HL),A
j720B:		;720B 
	LD	HL,FLPHEAD	;8033H
	DEC	(HL)
	CALL	c74CB	;74CBH
	RET	NC
	LD	A,0FBH
	JP	LAUNCHLOAD	;72C4H
	LD	B,1
	LD	C,0FFH
	CALL	DELAYBC	;76B1H
	CALL	FLPSENSE	;7672H
	LD	A,(RSTAB)	;8010H
	AND	'#'	;23H
	LD	C,A
	LD	A,(FLPDRV)	;801BH
	ADD	A,' '	;20H
	CP	C
	JP	NZ,LAUNCHLOAD	;72C4H
	CALL	XXCALXX	;770BH
	JP	C,LAUNCHLOAD	;72C4H
	JP	Z,RETRYPREP	;723DH
	JP	LAUNCHLOAD	;72C4H
RETRYPREP:		;723D 
	CALL	PREPLEAVEPROM	;71F3H
LEAVEPROM:		;7240 
	LD	A,1
	OUT	(18H),A
j7244:		;7244 
	LD	HL,(FOUR)	;8067H
	CALL	c7425	;7425H
	LD	A,(FLPNEWCYL)	;8032H
	OR	A
	JP	NZ,BADCYL	;7257H
	CALL	c74CB	;74CBH
	JP	j7244	;7244H
BADCYL:		;7257 
	LD	A,1
	LD	(CRASHFAILURE),A	;8060H
	CALL	c7262	;7262H
	JP	j7403	;7403H
c7262:		;7262 
	LD	A,0AH
	LD	HL,t0000	;0
	CALL	CHKRC70X	;72AAH
	JP	Z,j727C	;727CH
	LD	A,0BH
	CALL	CHKRC70X	;72AAH
	JP	Z,j7278	;7278H
	JP	NOKATALOG	;700FH
j7278:		;7278 
	LD	HL,(t0000)	;0
	JP	(HL)
j727C:		;727C 
	LD	HL,t0000	;0
	LD	DE,t0B60	;0B60H
	ADD	HL,DE
j7283:		;7283 
	LD	DE,t0020	;20H
	ADD	HL,DE
	LD	BC,t0D00	;0D00H
	LD	A,B
	CP	H
	JP	C,NOSYSTEMFILES	;7000H
	LD	A,(HL)
	OR	A
	JP	Z,j7283	;7283H
	CALL	CHKSYSMC	;702DH
	JP	NZ,NOSYSTEMFILES	;7000H
	LD	DE,t0020	;20H
	ADD	HL,DE
	LD	A,(HL)
	OR	A
	JP	Z,NOSYSTEMFILES	;7000H
	CALL	c703E	;703EH
	JP	NZ,NOSYSTEMFILES	;7000H
	RET
CHKRC70X:		;72AA 
	LD	DE,t0002	;2
	ADD	HL,DE
	EX	DE,HL
	LD	BC,RC700STR	;7071H
	LD	HL,t0006	;6
	CP	0AH
	JP	Z,j72C0	;72C0H
	LD	BC,RC702STR	;7077H
	LD	HL,t0006	;6
j72C0:		;72C0 
	CALL	COMSTR	;705CH
	RET
LAUNCHLOAD:		;72C4 
	LD	A,0BH
	LD	HL,PROM1	;2000H
	CALL	CHKRC70X	;72AAH
	JP	Z,JPLOAD	;72D2H
	JP	NODISKETTENORLINEPROG	;701EH
JPLOAD:		;72D2 
	LD	HL,(PROM1)	;2000H
	JP	(HL)
t72D6:		;72D6 
	LD	A,(DE)
	RLCA
	INC	(HL)
	RLCA
	RRCA
	LD	C,1AH
	LD	C,8
	DEC	DE
	RRCA
	DEC	DE
	NOP
	NOP
	EX	AF,AF'
	DEC	(HL)
t72E6:		;72E6 
	DJNZ	d72EF	;72EFH
	JR	NZ,r72F1	;72F1H
	ADD	HL,BC
	LD	C,10H
	LD	C,5
d72EF:		;72EF 
	DEC	DE
	ADD	HL,BC
r72F1:		;72F1 
	DEC	DE
	NOP
	NOP
	DEC	B
	DEC	(HL)
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
ITRTAB:		;7300 
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DMAINT	;73BBH
	dw	XFLPINT	;73C2H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
	dw	DUMINT	;73C6H
TESTFLAG:		;7320 
	NOP
	NOP
	LD	(SAVEDHL),HL	;8065H
	LD	HL,t0000	;0
	ADD	HL,SP
	LD	(SAVEDSP),HL	;801EH
	PUSH	BC
	EX	DE,HL
	LD	A,C
	AND	7FH
	LD	(SAVEDC),A	;8034H
	LD	A,B
	AND	7FH
	LD	(FLPNEWCYL),A	;8032H
	CALL	Z,c74CB	;74CBH
	LD	A,B
	AND	80H
	JP	Z,j7345	;7345H
	LD	A,1
j7345:		;7345 
	LD	(FLPHEAD),A	;8033H
	CALL	c7425	;7425H
	POP	BC
	PUSH	AF
	LD	A,B
	AND	7FH
	JP	NZ,j735B	;735BH
	LD	A,1
	LD	(FLPNEWCYL),A	;8032H
	CALL	c74CB	;74CBH
j735B:		;735B 
	POP	AF
	XOR	A
j735D:		;735D 
	LD	HL,(SAVEDSP)	;801EH
	LD	SP,HL
	RET
XSETDMA:		;7362 
	PUSH	AF
	IN	A,(1)
	PUSH	HL
	PUSH	DE
	PUSH	BC
	LD	A,6
	OUT	(0FAH),A
	LD	A,7
	OUT	(0FAH),A
	OUT	(0FCH),A
	LD	HL,(w7FD5)	;7FD5H
	LD	DE,DSPSTR	;7800H
	ADD	HL,DE
	LD	A,L
	OUT	(0F4H),A
	LD	A,H
	OUT	(0F4H),A
	LD	A,L
	CPL
	LD	L,A
	LD	A,H
	CPL
	LD	H,A
	INC	HL
	LD	DE,t07CF	;07CFH
	ADD	HL,DE
	LD	DE,DSPSTR	;7800H
	ADD	HL,DE
	LD	A,L
	OUT	(0F5H),A
	LD	A,H
	OUT	(0F5H),A
	LD	HL,DSPSTR	;7800H
	LD	A,L
	OUT	(0F6H),A
	LD	A,H
	OUT	(0F6H),A
	LD	HL,t07CF	;07CFH
	LD	A,L
	OUT	(0F7H),A
	LD	A,H
	OUT	(0F7H),A
	LD	A,2
	OUT	(0FAH),A
	LD	A,3
	OUT	(0FAH),A
	POP	BC
	POP	DE
	POP	HL
	LD	A,0D7H
	OUT	(0EH),A
	LD	A,1
	OUT	(0EH),A
	POP	AF
	RET
DMAINT:		;73BB 
	DI
	CALL	XSETDMA	;7362H
	EI
	RETI
XFLPINT:		;73C2 
	DI
	JP	FLPINT	;7770H
DUMINT:		;73C6 
	EI
	RETI
CRASHORRETURN:		;73C9 
	LD	(ERRCODE),A	;8003H
	EI
	LD	A,(CRASHFAILURE)	;8060H
	AND	1
	JP	NZ,j735D	;735DH
	OUT	(1CH),A
	CALL	DISKETTEERROR	;73DEH
ALOOP:		;73DA 
	OR	A
	JP	ALOOP	;73DAH
DISKETTEERROR:		;73DE 
	LD	BC,DSPSTR	;7800H
	LD	DE,ERMES0	;73F0H
	LD	HL,t0012	;12H
DISKETTEERROR2:		;73E7 
	LD	A,(DE)
	LD	(BC),A
	INC	BC
	INC	DE
	DEC	L
	JP	NZ,DISKETTEERROR2	;73E7H
	RET
ERMES0:		;73F0 
	DB	'**DISKETTE ERROR**'
	DB	' '
j7403:		;7403 
	LD	A,(TESTFLAG)	;7320H
	AND	80H
	LD	HL,CRASHFAILURE	;8060H
	OR	(HL)
	LD	(HL),A
	DEC	(HL)
	CALL	c74CB	;74CBH
	LD	HL,t0000	;0
	LD	(SAVEDHL),HL	;8065H
	LD	HL,ITRTAB	;7300H
	CALL	c7425	;7425H
	LD	A,1
	LD	(CRASHFAILURE),A	;8060H
	JP	j1000	;1000H
c7425:		;7425 
	LD	A,0
	LD	(w8069),HL	;8069H
j742A:		;742A 
	CALL	FLPDOSEEK	;7721H
	JP	C,LAUNCHLOAD	;72C4H
	JP	Z,j7438	;7438H
	LD	A,6
	JP	CRASHORRETURN	;73C9H
j7438:		;7438 
	CALL	c7481	;7481H
	LD	A,6
	LD	C,5
	CALL	c7583	;7583H
	JP	NC,j744A	;744AH
	LD	A,'('	;28H
	JP	CRASHORRETURN	;73C9H
j744A:		;744A 
	LD	HL,(FOUR)	;8067H
	EX	DE,HL
	LD	HL,(SAVEDHL)	;8065H
	ADD	HL,DE
	LD	(SAVEDHL),HL	;8065H
	LD	L,0
	LD	H,L
	LD	(FOUR),HL	;8067H
	CALL	c7466	;7466H
	LD	A,(b8061)	;8061H
	OR	A
	RET	Z
	JP	j742A	;742AH
c7466:		;7466 
	LD	A,1
	LD	(SAVEDC),A	;8034H
	LD	A,(TESTFLAG)	;7320H
	AND	2
	RRCA
	LD	HL,FLPHEAD	;8033H
	CP	(HL)
	JP	Z,j747A	;747AH
	INC	(HL)
r7479:		;7479 
	RET
j747A:		;747A 
	XOR	A
	LD	(HL),A
	LD	HL,FLPNEWCYL	;8032H
	INC	(HL)
	RET
c7481:		;7481 
	LD	HL,(w8069)	;8069H
	PUSH	HL
	CALL	c7547	;7547H
	CALL	c74AE	;74AEH
	POP	DE
	ADD	HL,DE
	JP	NC,j749E	;749EH
	LD	A,H
	OR	L
	JP	Z,j749E	;749EH
	LD	A,1
	LD	(b8061),A	;8061H
	LD	(w8069),HL	;8069H
	RET
j749E:		;749E 
	LD	A,0
	LD	(b8061),A	;8061H
	LD	(w8069),A	;8069H
	LD	(b806A),A	;806AH
	EX	DE,HL
	LD	(FOUR),HL	;8067H
	RET
c74AE:		;74AE 
	PUSH	AF
	LD	A,L
	CPL
	LD	L,A
	LD	A,H
	CPL
	LD	H,A
	INC	HL
	POP	AF
	RET
c74B8:		;74B8 
	LD	A,(TESTFLAG)	;7320H
	AND	1CH
	RRA
	RRA
	AND	7
	LD	(b8035),A	;8035H
	CALL	c750A	;750AH
	CALL	c7547	;7547H
	RET
c74CB:		;74CB 
	LD	A,(TESTFLAG)	;7320H
	AND	0FEH
	LD	(TESTFLAG),A	;7320H
j74D3:		;74D3 
	CALL	FLPDOSEEK	;7721H
	JP	NZ,XXXFAILED	;7508H
	LD	L,4
	LD	H,0
	LD	(FOUR),HL	;8067H
	LD	A,0AH
	LD	C,1
	CALL	c7583	;7583H
	LD	HL,TESTFLAG	;7320H
	JP	NC,j74F7	;74F7H
	LD	A,(HL)
	AND	1
	JP	NZ,XXXFAILED	;7508H
	INC	(HL)
	JP	j74D3	;74D3H
j74F7:		;74F7 
	LD	A,(b8016)	;8016H
	RLCA
	RLCA
	LD	B,A
	LD	A,(HL)
	AND	0E3H
	ADD	A,B
	LD	(HL),A
	CALL	c74B8	;74B8H
	SCF
	CCF
	RET
XXXFAILED:		;7508 
	SCF
	RET
c750A:		;750A 
	LD	A,(b8035)	;8035H
	RLA
	RLA
	LD	E,A
	LD	D,0
	LD	HL,t72D6	;72D6H
	LD	A,(TESTFLAG)	;7320H
	AND	80H
	LD	A,'L'	;4CH
	JP	Z,j7524	;7524H
	LD	A,'#'	;23H
	LD	HL,t72E6	;72E6H
j7524:		;7524 
	LD	(b800C),A	;800CH
	ADD	HL,DE
	LD	A,(TESTFLAG)	;7320H
	AND	1
	JP	Z,j7535	;7535H
	LD	E,2
	LD	D,0
	ADD	HL,DE
j7535:		;7535 
	EX	DE,HL
	LD	HL,t8036	;8036H
	LD	A,(DE)
	LD	(HL),A
	LD	(b800D),A	;800DH
	INC	HL
	INC	DE
	LD	A,(DE)
	LD	(HL),A
	INC	HL
	LD	A,80H
	LD	(HL),A
	RET
c7547:		;7547 
	LD	HL,t0080	;80H
	LD	A,(b8035)	;8035H
	OR	A
	JP	Z,j7556	;7556H
j7551:		;7551 
	ADD	HL,HL
	DEC	A
	JP	NZ,j7551	;7551H
j7556:		;7556 
	LD	(w8039),HL	;8039H
	EX	DE,HL
	LD	A,(SAVEDC)	;8034H
	LD	L,A
	LD	A,(t8036)	;8036H
	SUB	L
	INC	A
	LD	L,A
	LD	A,(CRASHFAILURE)	;8060H
	AND	80H
	JP	Z,j7576	;7576H
	LD	A,(FLPHEAD)	;8033H
	XOR	1
	JP	NZ,j7576	;7576H
	LD	L,0AH
j7576:		;7576 
	LD	A,L
	LD	L,0
	LD	H,L
j757A:		;757A 
	ADD	HL,DE
	DEC	A
	JP	NZ,j757A	;757AH
	LD	(FOUR),HL	;8067H
	RET
c7583:		;7583 
	PUSH	AF
	LD	A,C
	LD	(b8062),A	;8062H
j7588:		;7588 
	CALL	RESETBIT2	;769DH
	LD	HL,(FOUR)	;8067H
	LD	B,H
	LD	C,L
	DEC	BC
	LD	HL,(SAVEDHL)	;8065H
	POP	AF
	PUSH	AF
	AND	0FH
	CP	0AH
	CALL	NZ,FLPW	;7632H
	POP	AF
	LD	C,A
	CALL	XXXINT	;75DDH
	LD	A,0FFH
	CALL	WAITFORBIT2A	;76C3H
	RET	C
	LD	A,C
	CALL	c75B3	;75B3H
	RET	NC
	RET	Z
	LD	A,C
	PUSH	AF
	JP	j7588	;7588H
c75B3:		;75B3 
	LD	HL,RSTAB	;8010H
	LD	A,(HL)
	AND	0C3H
	LD	B,A
	LD	A,(FLPDRV)	;801BH
	CP	B
	JP	NZ,DEC8062	;75D4H
	INC	HL
	LD	A,(HL)
	CP	0
	JP	NZ,DEC8062	;75D4H
	INC	HL
	LD	A,(HL)
	AND	0BFH
	CP	0
	JP	NZ,DEC8062	;75D4H
	SCF
	CCF
	RET
DEC8062:		;75D4 
	LD	A,(b8062)	;8062H
	DEC	A
	LD	(b8062),A	;8062H
	SCF
	RET
XXXINT:		;75DD 
	PUSH	BC
	PUSH	AF
	DI
	LD	A,0FFH
	LD	HL,t8030	;8030H
	LD	(RSULTCOUNT),A	;800BH
	LD	A,(TESTFLAG)	;7320H
	AND	1
	JP	Z,j75F2	;75F2H
	LD	A,'@'	;40H
j75F2:		;75F2 
	LD	B,A
	POP	AF
	PUSH	AF
	ADD	A,B
	LD	(HL),A
	INC	HL
	CALL	FLPHEADDRV	;76A4H
	LD	(HL),A
	DEC	HL
	POP	AF
	AND	0FH
	CP	6
	LD	C,9
	JP	Z,j7609	;7609H
	LD	C,2
j7609:		;7609 
	LD	A,(HL)
	INC	HL
	CALL	FDCOUTWHENREADY	;763CH
	DEC	C
	JP	NZ,j7609	;7609H
	POP	BC
	EI
	RET
FLPR:		;7615 
	LD	A,5
	DI
	OUT	(0FAH),A
	LD	A,'I'	;49H
FLFW:		;761C 
	OUT	(0FBH),A
	OUT	(0FCH),A
	LD	A,L
	OUT	(0F2H),A
	LD	A,H
	OUT	(0F2H),A
	LD	A,C
	OUT	(0F3H),A
	LD	A,B
	OUT	(0F3H),A
	LD	A,1
	OUT	(0FAH),A
	EI
	RET
FLPW:		;7632 
	LD	A,5
	DI
	OUT	(0FAH),A
	LD	A,'E'	;45H
	JP	FLFW	;761CH
FDCOUTWHENREADY:		;763C 
	PUSH	AF
	PUSH	BC
	LD	B,0
	LD	C,0
FDCOUT2:		;7642 
	INC	B
	CALL	Z,INCCXXX	;766AH
	IN	A,(4)
	AND	0C0H
	CP	80H
	JP	NZ,FDCOUT2	;7642H
	POP	BC
	POP	AF
	OUT	(5),A
	RET
FL02:		;7654 
	PUSH	BC
	LD	B,0
	LD	C,0
FL02B:		;7659 
	INC	B
	CALL	Z,INCCXXX	;766AH
	IN	A,(4)
	AND	0C0H
	CP	0C0H
	JP	NZ,FL02B	;7659H
	POP	BC
	IN	A,(5)
	RET
INCCXXX:		;766A 
	LD	B,0
	INC	C
	RET	NZ
	EI
	JP	LAUNCHLOAD	;72C4H
FLPSENSE:		;7672 
	LD	A,4
	CALL	FDCOUTWHENREADY	;763CH
	LD	A,(FLPDRV)	;801BH
	CALL	FDCOUTWHENREADY	;763CH
	CALL	FL02	;7654H
	LD	(RSTAB),A	;8010H
	RET
FL06:		;7684 
	LD	A,8
	CALL	FDCOUTWHENREADY	;763CH
	CALL	FL02	;7654H
	LD	(RSTAB),A	;8010H
	AND	0C0H
	CP	80H
	JP	Z,FL06B	;769CH
	CALL	FL02	;7654H
	LD	(FLPCYL),A	;8011H
FL06B:		;769C 
	RET
RESETBIT2:		;769D 
	DI
	XOR	A
	LD	(BIT2FLAG),A	;8041H
	EI
	RET
FLPHEADDRV:		;76A4 
	PUSH	DE
	LD	A,(FLPHEAD)	;8033H
	RLA
	RLA
	LD	D,A
	LD	A,(FLPDRV)	;801BH
	ADD	A,D
	POP	DE
	RET
DELAYBC:		;76B1 
	PUSH	AF
	PUSH	HL
DELAYBC1:		;76B3 
	LD	H,C
	LD	L,0FFH
DELAYBC2:		;76B6 
	DEC	HL
	LD	A,L
	OR	H
	JP	NZ,DELAYBC2	;76B6H
	DEC	B
	JP	NZ,DELAYBC1	;76B3H
	POP	HL
	POP	AF
	RET
WAITFORBIT2A:		;76C3 
	PUSH	BC
WAITFORBIT2B:		;76C4 
	DEC	A
	SCF
	JP	Z,WAITFORBIT2C	;76DFH
	LD	B,1
	LD	C,1
	CALL	DELAYBC	;76B1H
	LD	B,A
	LD	A,(BIT2FLAG)	;8041H
	AND	2
	LD	A,B
	JP	Z,WAITFORBIT2B	;76C4H
	SCF
	CCF
	CALL	RESETBIT2	;769DH
WAITFORBIT2C:		;76DF 
	POP	BC
	RET
WAITFORBIT2:		;76E1 
	LD	A,0FFH
	CALL	WAITFORBIT2A	;76C3H
	LD	A,(RSTAB)	;8010H
	LD	B,A
	LD	A,(FLPCYL)	;8011H
	LD	C,A
	RET
FLPCALIB:		;76EF 
	LD	A,7
	CALL	FDCOUTWHENREADY	;763CH
	LD	A,(FLPDRV)	;801BH
	CALL	FDCOUTWHENREADY	;763CH
	RET
FLPSEEK:		;76FB 
	LD	A,0FH
	CALL	FDCOUTWHENREADY	;763CH
	LD	A,D
	AND	7
	CALL	FDCOUTWHENREADY	;763CH
	LD	A,E
	CALL	FDCOUTWHENREADY	;763CH
	RET
XXCALXX:		;770B 
	CALL	FLPCALIB	;76EFH
	CALL	WAITFORBIT2	;76E1H
	RET	C
	LD	A,(FLPDRV)	;801BH
	ADD	A,' '	;20H
	CP	B
	JP	NZ,j771E	;771EH
	LD	A,C
	CP	0
j771E:		;771E 
	SCF
	CCF
	RET
FLPDOSEEK:		;7721 
	LD	A,(FLPNEWCYL)	;8032H
	LD	E,A
	CALL	FLPHEADDRV	;76A4H
	LD	D,A
	CALL	FLPSEEK	;76FBH
	CALL	WAITFORBIT2	;76E1H
	RET	C
	LD	A,(FLPDRV)	;801BH
	ADD	A,' '	;20H
	CP	B
	JP	NZ,j773D	;773DH
	LD	A,(FLPNEWCYL)	;8032H
	CP	C
j773D:		;773D 
	SCF
	CCF
	RET
RSULT:		;7740 
	LD	HL,RSTAB	;8010H
	LD	B,7
	LD	A,B
	LD	(RSULTCOUNT),A	;800BH
RSL1:		;7749 
	CALL	FL02	;7654H
	LD	(HL),A
	INC	HL
	LD	A,(RSULTDELAY)	;801DH
RSL2:		;7751 
	DEC	A
	JP	NZ,RSL2	;7751H
	IN	A,(4)
	AND	10H
	JP	Z,RSL3	;7765H
	DEC	B
	JP	NZ,RSL1	;7749H
	LD	A,0FEH
	JP	CRASHORRETURN	;73C9H
RSL3:		;7765 
	IN	A,(0F8H)
	LD	(HL),A
	DEC	B
	RET	Z
	EI
	LD	A,0FDH
	JP	CRASHORRETURN	;73C9H
FLPINT:		;7770 
	PUSH	AF
	PUSH	BC
	PUSH	HL
	LD	A,2
	LD	(BIT2FLAG),A	;8041H
	LD	A,(FLPINTDELAY)	;801CH
TIMFLI:		;777B 
	DEC	A
	JP	NZ,TIMFLI	;777BH
	IN	A,(4)
	AND	10H
	JP	NZ,RRES	;778CH
	CALL	FL06	;7684H
	JP	FEXIT	;778FH
RRES:		;778C 
	CALL	RSULT	;7740H
FEXIT:		;778F 
	POP	HL
	POP	BC
	POP	AF
	EI
	RETI
	END
